<!doctype html><html lang=ru-RU x-data :class=$store.darkMode.class() :data-theme=$store.darkMode.theme()><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Git LFS: лучшие практики для элегантного управления большими файлами | ЛюбимРешать</title><link href=/favicon.ico rel=icon type=image/x-icon><link rel=canonical href=https://jiejue.ai/ru/2025/03/git-lfs-best-practices/><meta name=author content="董昊"><meta name=description content="В процессе разработки мы постоянно сталкиваемся с необходимостью включения больших бинарных файлов (таких как PDF, APK, DMG, файлы шрифтов и т. д.) в ситуацию контроля версий. Git LFS (Large File Storage) - это расширение, которое решает эту проблему, добавляя такие файлы непосредственно в обычный Git-репозиторий, что может привести к раздуванию репозитория, увеличению времени клонирования и даже затруднить совместную работу команды.
"><meta name=keywords content="Git,Артефакт,Большой Файл,Двоичный Файл"><meta name=generator content="Hugo 0.148.2"><meta property="og:url" content="https://jiejue.ai/ru/2025/03/git-lfs-best-practices/"><meta property="og:site_name" content="ЛюбимРешать"><meta property="og:title" content="Git LFS: лучшие практики для элегантного управления большими файлами"><meta property="og:description" content="В процессе разработки мы постоянно сталкиваемся с необходимостью включения больших бинарных файлов (таких как PDF, APK, DMG, файлы шрифтов и т. д.) в ситуацию контроля версий. Git LFS (Large File Storage) - это расширение, которое решает эту проблему, добавляя такие файлы непосредственно в обычный Git-репозиторий, что может привести к раздуванию репозитория, увеличению времени клонирования и даже затруднить совместную работу команды."><meta property="og:locale" content="ru_RU"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-06T09:13:29+04:00"><meta property="article:modified_time" content="2025-08-13T15:03:02+00:00"><meta property="article:tag" content="Git"><meta property="article:tag" content="Артефакт"><meta property="article:tag" content="Большой Файл"><meta property="article:tag" content="Двоичный Файл"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git LFS: лучшие практики для элегантного управления большими файлами"><meta name=twitter:description content="В процессе разработки мы постоянно сталкиваемся с необходимостью включения больших бинарных файлов (таких как PDF, APK, DMG, файлы шрифтов и т. д.) в ситуацию контроля версий. Git LFS (Large File Storage) - это расширение, которое решает эту проблему, добавляя такие файлы непосредственно в обычный Git-репозиторий, что может привести к раздуванию репозитория, увеличению времени клонирования и даже затруднить совместную работу команды."><link rel=stylesheet href=/css/output.min.css><style>pre{padding:1em;overflow:auto}</style><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js integrity="sha256-PtHu0lJIiSHfZeNj1nFd6wTX+Squ255SGZ/fc8seCtM=" crossorigin=anonymous></script></head><body x-data="{
    flip: false,
  }"><div id=dream-global-bg></div><nav x-data="{ isSticky: false }" x-init="window.addEventListener('scroll', () => { isSticky = window.scrollY > 30 })" class="sticky top-0 z-30 mt-4 lg:mt-8 py-4" :class="{ 'bg-base-100 shadow-lg dark:border-b dark:border-base-content/30': isSticky }"><div class="container flex justify-between px-4"><section class="flex items-center gap-4"><div class="avatar cursor-pointer hover:avatar-online" @click="flip = !flip" title=Повернуть!><div class="h-10 rounded-full"><img src=/favicon.ico alt=爱解决></div></div><div><a href=/ru class="text-lg font-semibold cursor-pointer">爱解决</a><div class="text-base-content/60 text-sm">用AI为人民服务</div></div></section><div class="dropdown dropdown-end sm:hidden"><div tabindex=0 role=button class="btn btn-ghost btn-square" aria-label="Select an option"><ion-icon name=menu class=text-2xl></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-md"><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/index.xml title=RSS><ion-icon name=logo-rss></ion-icon>RSS</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/posts title=Архивы><ion-icon name=archive></ion-icon>Архивы</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/tags title="Все теги"><ion-icon name=pricetags></ion-icon>Все теги</a></li></ul></div><section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4"><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href=/ru/index.xml title=RSS><ion-icon class=group-hover:text-primary-content name=logo-rss></ion-icon></a><div class="dropdown dropdown-end dropdown-hover"><div tabindex=0 role=button class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" aria-label="Select an option"><ion-icon class="group-hover:text-primary-content text-xl" name=menu></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-xl"><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/posts title=Архивы><ion-icon name=archive></ion-icon>Архивы</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/tags title="Все теги"><ion-icon name=pricetags></ion-icon>Все теги</a></li></ul></div><div class="dropdown dropdown-end dropdown-hover language-switcher"><div tabindex=0 role=button class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" title="Переключить язык"><ion-icon class=group-hover:text-primary-content name=language-outline></ion-icon><span class="ml-1 hidden md:inline group-hover:text-primary-content language-name">Русский</span></div><ul tabindex=0 class="dropdown-content menu bg-base-100 rounded-box z-[1] shadow-xl border border-base-content/20" style=min-width:6rem;width:auto><li><a href=/zh/2025/03/git-lfs-best-practices/ class="flex items-center gap-2"><span class="flag flag-cn"></span>
<span class=language-name>中文</span></a></li></ul></div></section></div></nav><div class=flip-container :class="{ 'flip-it': flip }"><div class=flipper><div class=front><div class=container><div class="lg:grid lg:grid-cols-4 gap-4 mt-4 px-4"><div class="hidden lg:block"></div><div class=lg:col-span-2><article class="mx-auto prose prose-quoteless dark:prose-invert" id=dream-single-post-main itemscope itemtype=http://schema.org/Article><meta itemprop=name content="Git LFS: лучшие практики для элегантного управления большими файлами"><meta itemprop=description content="В процессе разработки мы постоянно сталкиваемся с необходимостью включения больших бинарных файлов (таких как PDF, APK, DMG, файлы шрифтов и т. д.) в ситуацию контроля версий. Git LFS (Large File Storage) - это расширение, которое решает эту проблему, добавляя такие файлы непосредственно в обычный Git-репозиторий, что может привести к раздуванию репозитория, увеличению времени клонирования и даже затруднить совместную работу команды."><meta itemprop=datePublished content="2025-03-06T09:13:29+04:00"><meta itemprop=dateModified content="2025-08-13T15:03:02+00:00"><meta itemprop=wordCount content="5286"><meta itemprop=keywords content="Git,Артефакт,Большой Файл,Двоичный Файл"><header><h1 itemprop=headline>Git LFS: лучшие практики для элегантного управления большими файлами</h1><p class=text-sm><span data-format=luxon>2025-03-06T09:13:29+04:00</span>
| <span>11 минут чтения</span>
| <span>Обновлено
<span data-format=luxon>2025-08-13T15:03:02Z</span></span></p><div class="flex justify-between"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>董昊</span></span></div><div class="flex items-center gap-2"><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://x.com/intent/post?text=Git%20LFS:%20%d0%bb%d1%83%d1%87%d1%88%d0%b8%d0%b5%20%d0%bf%d1%80%d0%b0%d0%ba%d1%82%d0%b8%d0%ba%d0%b8%20%d0%b4%d0%bb%d1%8f%20%d1%8d%d0%bb%d0%b5%d0%b3%d0%b0%d0%bd%d1%82%d0%bd%d0%be%d0%b3%d0%be%20%d1%83%d0%bf%d1%80%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d1%8f%20%d0%b1%d0%be%d0%bb%d1%8c%d1%88%d0%b8%d0%bc%d0%b8%20%d1%84%d0%b0%d0%b9%d0%bb%d0%b0%d0%bc%d0%b8&amp;url=https://jiejue.ai/ru/2025/03/git-lfs-best-practices/" target=_blank rel="noopener noreferrer" title="Share on X"><ion-icon class=group-hover:text-primary-content name=logo-x></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://facebook.com/sharer/sharer.php?u=https://jiejue.ai/ru/2025/03/git-lfs-best-practices/" target=_blank rel="noopener noreferrer" title="Share on Facebook"><ion-icon class=group-hover:text-primary-content name=logo-facebook></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://wa.me/?text=Git%20LFS:%20%d0%bb%d1%83%d1%87%d1%88%d0%b8%d0%b5%20%d0%bf%d1%80%d0%b0%d0%ba%d1%82%d0%b8%d0%ba%d0%b8%20%d0%b4%d0%bb%d1%8f%20%d1%8d%d0%bb%d0%b5%d0%b3%d0%b0%d0%bd%d1%82%d0%bd%d0%be%d0%b3%d0%be%20%d1%83%d0%bf%d1%80%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d1%8f%20%d0%b1%d0%be%d0%bb%d1%8c%d1%88%d0%b8%d0%bc%d0%b8%20%d1%84%d0%b0%d0%b9%d0%bb%d0%b0%d0%bc%d0%b8%20https://jiejue.ai/ru/2025/03/git-lfs-best-practices/" target=_blank rel="noopener noreferrer" title="Share on WhatsApp"><ion-icon class=group-hover:text-primary-content name=logo-whatsapp></ion-icon></a></div></div></header><section id=dream-single-post-content itemprop=articleBody><img class="w-full z-30" src=https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250306091706492.webp alt="Git LFS: лучшие практики для элегантного управления большими файлами"><p>В процессе разработки мы постоянно сталкиваемся с необходимостью включения больших бинарных файлов (таких как PDF, APK, DMG, файлы шрифтов и т. д.) в ситуацию контроля версий. Git LFS (Large File Storage) - это расширение, которое решает эту проблему, добавляя такие файлы непосредственно в обычный Git-репозиторий, что может привести к раздуванию репозитория, увеличению времени клонирования и даже затруднить совместную работу команды.</p><p>&lt;! &mdash;далее&ndash;></p><h2 id=зачем-мне-нужен-git-lfs>Зачем мне нужен Git LFS?</h2><p>Как разработчик, вы наверняка сталкивались с этим раньше:</p><blockquote><p>&ldquo;Вчера на перенос репозитория ушло полчаса, и мой коллега сказал, что добавил несколько инсталляторов и ресурсных файлов&mldr;&rdquo;</p><p>&ldquo;Каждый раз, когда вы клонируете проект, вам приходится скачивать большие двоичные файлы всех версий в истории, даже если они вам совсем не нужны&mldr;&rdquo;</p><blockquote><p>&ldquo;Случайно отправил в Git-репозиторий PDF-файл размером 100 МБ, и после его удаления размер репозитория не уменьшился&mldr;&rdquo; > ></p></blockquote></blockquote><p>Это типичные проблемы при работе с большими файлами в Git, который изначально был разработан для работы с текстовыми файлами (например, кодом) и хранит полную историю каждого файла. Для больших бинарных файлов, которые часто меняются, эта стратегия может привести к быстрому расширению репозиториев.</p><h2 id=как-работает-git-lfs>Как работает Git LFS</h2><p>Git LFS использует умную стратегию: вместо того чтобы хранить большие файлы непосредственно в вашем Git-репозитории, он хранит &ldquo;указатель&rdquo; на файл. Фактическое содержимое файла загружается на отдельный сервер хранения LFS.</p><pre class=mermaid>
  graph LR
    A[用户提交大文件] --&gt; B[Git LFS 拦截]
    B --&gt; C[创建指针文件 存入 Git 仓库]
    B --&gt; D[实际文件内容 存入 LFS 服务器]
    E[用户克隆/拉取] --&gt; F[获取指针文件]
    F --&gt; G[通过指针文件 下载实际内容]
</pre><p>Преимущество этого механизма заключается в том, что репозитории Git остаются небольшими и эффективными:</p><ul><li>Git-репозитории остаются маленькими и эффективными</li><li>большие файлы загружаются только при необходимости</li><li>Команды Git можно использовать как обычные файлы.</li></ul><h2 id=начало-работы-с-git-lfs>Начало работы с Git LFS</h2><h3 id=установка-git-lfs>Установка Git LFS</h3><p>Сначала вам нужно установить Git LFS на вашу систему.</p><p>macOS (с помощью Homebrew).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install git-lfs
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Ubuntu/Debian.
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>bash
</span></span><span style=display:flex><span>sudo apt install git-lfs
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Windows <span style=color:#f92672>(</span>с использованием Chocolatey<span style=color:#f92672>)</span>: <span style=color:#e6db74>```</span>bash
</span></span><span style=display:flex><span>choco install git-lfs
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span> Ubuntu/Debian.
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>bash
</span></span><span style=display:flex><span>choco install git-lfs
</span></span></code></pre></div><p>Или скачайте установщик прямо с <a href=https://git-lfs.com target=_blank>официального сайта</a>
.</p><h3 id=настройка-git-lfs-в-репозитории>Настройка Git LFS в репозитории</h3><p>После установки необходимо инициализировать Git LFS в вашем Git-репозитории:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd 你的仓库路径
</span></span><span style=display:flex><span>git lfs install
</span></span></code></pre></div><p>Эту команду нужно выполнить только один раз для каждого репозитория. Она установит необходимые хуки Git LFS.</p><h3 id=настройте-типы-файлов-для-отслеживания>Настройте типы файлов для отслеживания</h3><p>Далее укажите Git LFS, какие типы файлов вы хотите отслеживать:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 跟踪常见的二进制文件类型</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.pdf&#34;</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.apk&#34;</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.dmg&#34;</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.exe&#34;</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.zip&#34;</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.iso&#34;</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.psd&#34;</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.ttf&#34;</span> <span style=color:#e6db74>&#34;*.otf&#34;</span>  <span style=color:#75715e># 字体文件</span>
</span></span></code></pre></div><p>Эти команды создают или обновляют файл <code>.gitattributes</code>, указывая, какими файлами должен управлять Git LFS. Обязательно зафиксируйте этот файл в вашем репозитории:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add .gitattributes
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;配置 Git LFS 跟踪文件类型&#34;</span>
</span></span></code></pre></div><h3 id=добавление-и-фиксация-больших-файлов>Добавление и фиксация больших файлов</h3><p>После настройки Git LFS вы можете добавлять и фиксировать большие файлы так же, как и обычные файлы:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add path/to/largefile.pdf
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;添加大型PDF文件&#34;</span>
</span></span><span style=display:flex><span>git push
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>_.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Когда вы запускаете <span style=color:#e6db74>`</span>git push<span style=color:#e6db74>`</span>, Git LFS автоматически загружает большие файлы на сервер хранения LFS.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## Практические советы и лучшие практики</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 1. Оптимизация конфигурации .gitattributes</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Отслеживайте только те типы файлов, которые действительно нуждаются в обработке LFS, и избегайте включения в LFS маленьких файлов:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>bash
</span></span><span style=display:flex><span><span style=color:#75715e># 更精确的跟踪配置</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.pdf&#34;</span> <span style=color:#e6db74>&#34;*.psd&#34;</span> <span style=color:#e6db74>&#34;*.ai&#34;</span>  <span style=color:#75715e># 设计文件</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.apk&#34;</span> <span style=color:#e6db74>&#34;*.ipa&#34;</span>         <span style=color:#75715e># 应用安装包</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.mp4&#34;</span> <span style=color:#e6db74>&#34;*.mov&#34;</span>         <span style=color:#75715e># 视频文件</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.zip&#34;</span> <span style=color:#e6db74>&#34;*.tar.gz&#34;</span>      <span style=color:#75715e># 压缩文件</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 2. Проверка состояния отслеживания LFS</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Проверьте, какие файлы отслеживаются Git LFS:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>bash
</span></span><span style=display:flex><span><span style=color:#75715e># 查看当前配置的跟踪模式</span>
</span></span><span style=display:flex><span>git lfs track
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看当前被 LFS 管理的文件</span>
</span></span><span style=display:flex><span>git lfs ls-files
</span></span></code></pre></div><h3 id=3-перенос-больших-файлов-из-существующего-хранилища>3. Перенос больших файлов из существующего хранилища</h3><p>Если в существующем хранилище есть большие файлы, вы можете использовать команду <code>git lfs migrate</code> для их преобразования в объекты LFS:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 将当前分支中的大文件（超过 500KB）转换为 LFS 对象</span>
</span></span><span style=display:flex><span>git lfs migrate import --above<span style=color:#f92672>=</span>500KB --everything
</span></span></code></pre></div><p><strong>Примечание</strong>: Это переписывает историю Git, поэтому перед выполнением этой команды обязательно согласуйте ее с членами команды.</p><h3 id=4-оптимизация-pull-стратегии>4. Оптимизация Pull-стратегии</h3><p>По умолчанию Git LFS автоматически загружает содержимое файлов, когда вы проверяете ветку, содержащую объекты LFS. Вы можете изменить это поведение с помощью следующей команды:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 延迟下载 LFS 对象，仅在实际使用文件时下载</span>
</span></span><span style=display:flex><span>git config lfs.fetchexclude <span style=color:#e6db74>&#34;*&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 仅为特定类型的文件自动下载 LFS 内容</span>
</span></span><span style=display:flex><span>git config lfs.fetchinclude <span style=color:#e6db74>&#34;*.pdf,*.ttf&#34;</span>
</span></span><span style=display:flex><span>git config lfs.fetchexclude <span style=color:#e6db74>&#34;*&#34;</span>
</span></span></code></pre></div><h3 id=5-просмотр-объектов-lfs-без-их-загрузки>5. Просмотр объектов LFS без их загрузки</h3><p>Иногда вы можете захотеть просмотреть только метаинформацию об объекте LFS, не загружая его содержимое:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git lfs pointer --file<span style=color:#f92672>=</span>path/to/file.pdf
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 6. Рассмотрение ограничений хранения LFS</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Большинство сервисов хостинга Git <span style=color:#f92672>(</span>например, GitHub, GitLab<span style=color:#f92672>)</span> имеют ограничения на хранение LFS и пропускную способность, особенно для бесплатных аккаунтов. Учитывайте это при разработке проекта:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- Действительно ли необходимо включать все большие файлы в систему контроля версий?
</span></span><span style=display:flex><span>- Можно ли использовать внешний сервис хранения и просто хранить ссылки в репозитории?
</span></span><span style=display:flex><span>- Готова ли команда проекта нести дополнительные расходы на хранение LFS?
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## Часто задаваемые вопросы и решения</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### Проблема: не хочу загружать файлы LFS при клонировании репозиториев</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Если вы хотите клонировать только код, LFS-файл вам не нужен:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>bash
</span></span><span style=display:flex><span>GIT_LFS_SKIP_SMUDGE<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> git clone 仓库URL
</span></span></code></pre></div><h3 id=проблема-история-файла-lfs-занимает-много-места>Проблема: история файла LFS занимает много места</h3><p>Вы можете использовать команду Git LFS cleanup, чтобы удалить историю файлов LFS, которая вам больше не нужна:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 删除所有远程跟踪分支中不再引用的 LFS 对象</span>
</span></span><span style=display:flex><span>git lfs prune
</span></span></code></pre></div><h3 id=проблема-у-члена-команды-не-установлен-git-lfs>Проблема: у члена команды не установлен Git LFS</h3><p>Если у члена команды не установлен Git LFS, он все равно сможет клонировать репозиторий, но получит только файлы-указатели, а не его содержимое. Убедитесь, что у всех членов вашей команды установлен Git LFS.</p><h3 id=проблема-попытка-перейти-от-lfs-обратно-к-обычному-управлению-git>Проблема: Попытка перейти от LFS обратно к обычному управлению Git</h3><p>Если некоторые файлы больше не нуждаются в управлении с помощью LFS:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 从 .gitattributes 中移除跟踪配置</span>
</span></span><span style=display:flex><span>git lfs untrack <span style=color:#e6db74>&#34;*.pdf&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 确认文件不再由 LFS 跟踪</span>
</span></span><span style=display:flex><span>git lfs status
</span></span></code></pre></div><h2 id=практический-пример-управление-файлами-шрифтов-в-проекте>Практический пример: управление файлами шрифтов в проекте</h2><p>Предположим, что ваш проект должен содержать пользовательские файлы шрифтов, например &ldquo;PangMenZhengDaoXiXianTi-2.ttf&rdquo;:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 设置 LFS 跟踪字体文件</span>
</span></span><span style=display:flex><span>git lfs track <span style=color:#e6db74>&#34;*.ttf&#34;</span>
</span></span><span style=display:flex><span>git add .gitattributes
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;配置 Git LFS 跟踪字体文件&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 添加字体文件并提交</span>
</span></span><span style=display:flex><span>git add ./PangMenZhengDaoXiXianTi-2.ttf
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;添加庞门正道细线体字体文件&#34;</span>
</span></span><span style=display:flex><span>git push
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 查看已跟踪的 LFS 文件</span>
</span></span><span style=display:flex><span>git lfs ls-files
</span></span><span style=display:flex><span><span style=color:#75715e># 输出: 498b3f556e * PangMenZhengDaoXiXianTi-2.ttf</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>```</span>.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## Заключение</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Git LFS предоставляет командам разработчиков элегантный способ управления большими файлами, который сохраняет эффективность Git<span style=color:#e6db74>&#39;а и решает проблемы контроля версий для больших файлов. Используя лучшие практики, описанные в этой статье, вы сможете сделать управление большими файлами в ваших проектах легким и сделать совместную работу команды более гладкой.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Git LFS - незаменимый инструмент для любого современного проекта разработки, особенно для тех, которые содержат дизайнерские ресурсы, медиафайлы, продукты сборки или другие большие двоичные файлы. Мы надеемся, что эти практические уроки помогут вам лучше управлять большими файлами в ваших проектах!
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>## Справочные ресурсы
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>- [Официальная документация Git LFS](__PROTECTED_LINK_URL__21__)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>- [GitHub&#39;</span>s Git LFS User Guide<span style=color:#f92672>](</span>https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-git-large-file-storage<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>- <span style=color:#f92672>[</span>GitLab<span style=color:#960050;background-color:#1e0010>&#39;</span>s Git LFS Administration<span style=color:#f92672>](</span>https://docs.gitlab.com/ee/topics/git/lfs/<span style=color:#f92672>)</span>
</span></span></code></pre></div></section><div class=divider></div><div class="flex flex-col md:flex-row justify-between gap-4 py-4"><a role=button class="btn btn-outline h-12" href=/ru/2025/03/kubernetes-readonly-filesystem-tmp-directory-write-access-deep-dive/ title="Глубокое погружение: реализация разрешений на запись в каталог /tmp в контейнерах Kubernetes, предназначенных только для чтения"><ion-icon name=chevron-back></ion-icon><div class="inline-flex flex-col items-start"><span class="text-base-content/60 text-xs font-normal">Предыдущая</span>
<span class="max-w-48 truncate">Глубокое погружение: реализация разрешений на запись в каталог /tmp в контейнерах Kubernetes, предназначенных только для чтения</span></div></a><a role=button class="btn btn-outline h-12" href=/ru/2025/03/solving-grafana-azure-postgresql-ssl-tls-issues/ title="Устранение проблем с SSL/TLS при подключении Grafana к Azure PostgreSQL"><div class="inline-flex flex-col items-end"><span class="text-base-content/60 text-xs font-normal">Следующая</span>
<span class="max-w-48 truncate">Устранение проблем с SSL/TLS при подключении Grafana к Azure PostgreSQL</span></div><ion-icon name=chevron-forward></ion-icon></a></div><div class=divider></div><section class=space-y-4><article><div id=tcomment></div><script src=https://cdn.jsdelivr.net/npm/twikoo@1.6.41/dist/twikoo.min.js></script><script>twikoo.init({envId:"https://6dhzwvtyqz753zhpkrvnnydhlm0vubmy.lambda-url.ap-east-1.on.aws/",el:"#tcomment",region:"ap-east-1",path:"/ru/2025/03/git-lfs-best-practices/",lang:"zh-CN"})</script></article></section></article></div><div x-data=tocHighlighter() @scroll.window=debouncedScroll class="hidden lg:flex lg:flex-col lg:items-end"><nav id=TableOfContents><ul><li><a href=#зачем-мне-нужен-git-lfs>Зачем мне нужен Git LFS?</a></li><li><a href=#как-работает-git-lfs>Как работает Git LFS</a></li><li><a href=#начало-работы-с-git-lfs>Начало работы с Git LFS</a><ul><li><a href=#установка-git-lfs>Установка Git LFS</a></li><li><a href=#настройка-git-lfs-в-репозитории>Настройка Git LFS в репозитории</a></li><li><a href=#настройте-типы-файлов-для-отслеживания>Настройте типы файлов для отслеживания</a></li><li><a href=#добавление-и-фиксация-больших-файлов>Добавление и фиксация больших файлов</a></li><li><a href=#3-перенос-больших-файлов-из-существующего-хранилища>3. Перенос больших файлов из существующего хранилища</a></li><li><a href=#4-оптимизация-pull-стратегии>4. Оптимизация Pull-стратегии</a></li><li><a href=#5-просмотр-объектов-lfs-без-их-загрузки>5. Просмотр объектов LFS без их загрузки</a></li><li><a href=#проблема-история-файла-lfs-занимает-много-места>Проблема: история файла LFS занимает много места</a></li><li><a href=#проблема-у-члена-команды-не-установлен-git-lfs>Проблема: у члена команды не установлен Git LFS</a></li><li><a href=#проблема-попытка-перейти-от-lfs-обратно-к-обычному-управлению-git>Проблема: Попытка перейти от LFS обратно к обычному управлению Git</a></li></ul></li><li><a href=#практический-пример-управление-файлами-шрифтов-в-проекте>Практический пример: управление файлами шрифтов в проекте</a></li></ul></nav></div></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>© 2025 ЛюбимРешать</p><p>一个热爱解决问题的网站</p></div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><section><span id=busuanzi_container_value_site_pv><i class="far fa-eye fa-fw"></i>
本站总访问量 <span id=busuanzi_value_site_pv></span>
</span>&nbsp;|&nbsp;
<span id=busuanzi_container_value_site_uv><i class="fa fa-user"></i>
本站访客数 <span id=busuanzi_value_site_uv></span></span></section></span></section></script><div x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div><div class=back><div class=container><div class="dream-grid dream-grid-about"></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>© 2025 ЛюбимРешать</p><p>一个热爱解决问题的网站</p></div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><section><span id=busuanzi_container_value_site_pv><i class="far fa-eye fa-fw"></i>
本站总访问量 <span id=busuanzi_value_site_pv></span>
</span>&nbsp;|&nbsp;
<span id=busuanzi_container_value_site_uv><i class="fa fa-user"></i>
本站访客数 <span id=busuanzi_value_site_uv></span></span></section></span></section></script><div x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div></div></div><script>window.lightTheme="emerald",window.darkTheme="forest"</script><script src=https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin=anonymous></script><script src=/js/grid.min.js></script><script src=/js/main.min.js></script><script src=https://cdn.jsdelivr.net/npm/luxon@1.26.0 integrity="sha256-4sbTzmCCW9LGrIh5OsN8V5Pfdad1F1MwhLAOyXKnsE0=" crossorigin=anonymous></script><script>format();function format(){document.querySelectorAll('span[data-format="luxon"]').forEach(e=>{const t=e.textContent;e.textContent=luxon.DateTime.fromISO(t,{locale:"ru"}).toFormat("yyyy年MM月dd日 HH:mm")})}</script><script src=/js/toc.min.js></script><script type=module>
      import mediumZoom from 'https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/+esm';
      mediumZoom('#dream-single-post-content img', {
        background: 'oklch(var(--b1))',
        margin: 24,
      })
    </script><script type=module>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
      </script><script async src="https://www.googletagmanager.com/gtag/js?id=G-S0KCH9BW4F"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-S0KCH9BW4F")}</script><script type=module src=https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.esm.js integrity="sha256-/IFmi82bIhdYWctu0UddSlJqpnzWm7Vh2C4CM32wF/k=" crossorigin=anonymous></script><script nomodule src=https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.js integrity="sha256-mr7eJMX3VC3F7G32mk4oWp1C6a2tlMYxUdptfT7uKI8=" crossorigin=anonymous></script></body></html>