<!doctype html><html lang=ru-RU x-data :class=$store.darkMode.class() :data-theme=$store.darkMode.theme()><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Идеальная синхронизация файлов с помощью Rsync: исчерпывающее руководство от новичка до продвинутого пользователя | ЛюбимРешать</title><link href=/favicon.ico rel=icon type=image/x-icon><link rel=canonical href=https://jiejue.ai/ru/2025/03/perfect-file-sync-with-rsync/><meta name=author content="董昊"><meta name=description content="Вам когда-нибудь приходилось переносить большое количество файлов между двумя компьютерами? Или вам нужно создать резервную копию важных данных, но вы боитесь потерять атрибуты файлов (например, время модификации и разрешения)? Представленный сегодня инструмент rsync может не только решить эти проблемы, но и сделать передачу файлов более быстрой и надежной. Независимо от того, являетесь ли вы обычным пользователем или профессионалом, это руководство поможет вам легко освоить этот мощный инструмент.
"><meta name=keywords content="Инструменты Эффективности,Управление Документами,Командная Строка (Вычислительная Техника)"><meta name=generator content="Hugo 0.148.2"><meta property="og:url" content="https://jiejue.ai/ru/2025/03/perfect-file-sync-with-rsync/"><meta property="og:site_name" content="ЛюбимРешать"><meta property="og:title" content="Идеальная синхронизация файлов с помощью Rsync: исчерпывающее руководство от новичка до продвинутого пользователя"><meta property="og:description" content="Вам когда-нибудь приходилось переносить большое количество файлов между двумя компьютерами? Или вам нужно создать резервную копию важных данных, но вы боитесь потерять атрибуты файлов (например, время модификации и разрешения)? Представленный сегодня инструмент rsync может не только решить эти проблемы, но и сделать передачу файлов более быстрой и надежной. Независимо от того, являетесь ли вы обычным пользователем или профессионалом, это руководство поможет вам легко освоить этот мощный инструмент."><meta property="og:locale" content="ru_RU"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-27T22:47:42+04:00"><meta property="article:modified_time" content="2025-08-13T18:35:28+04:00"><meta property="article:tag" content="Инструменты Эффективности"><meta property="article:tag" content="Управление Документами"><meta property="article:tag" content="Командная Строка (Вычислительная Техника)"><meta name=twitter:card content="summary"><meta name=twitter:title content="Идеальная синхронизация файлов с помощью Rsync: исчерпывающее руководство от новичка до продвинутого пользователя"><meta name=twitter:description content="Вам когда-нибудь приходилось переносить большое количество файлов между двумя компьютерами? Или вам нужно создать резервную копию важных данных, но вы боитесь потерять атрибуты файлов (например, время модификации и разрешения)? Представленный сегодня инструмент rsync может не только решить эти проблемы, но и сделать передачу файлов более быстрой и надежной. Независимо от того, являетесь ли вы обычным пользователем или профессионалом, это руководство поможет вам легко освоить этот мощный инструмент."><link rel=stylesheet href=/css/output.min.css><style>pre{padding:1em;overflow:auto}</style><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js integrity="sha256-PtHu0lJIiSHfZeNj1nFd6wTX+Squ255SGZ/fc8seCtM=" crossorigin=anonymous></script></head><body x-data="{
    flip: false,
  }"><div id=dream-global-bg></div><nav x-data="{ isSticky: false }" x-init="window.addEventListener('scroll', () => { isSticky = window.scrollY > 30 })" class="sticky top-0 z-30 mt-4 lg:mt-8 py-4" :class="{ 'bg-base-100 shadow-lg dark:border-b dark:border-base-content/30': isSticky }"><div class="container flex justify-between px-4"><section class="flex items-center gap-4"><div class="avatar cursor-pointer hover:avatar-online" @click="flip = !flip" title=Повернуть!><div class="h-10 rounded-full"><img src=/favicon.ico alt=爱解决></div></div><div><a href=/ru class="text-lg font-semibold cursor-pointer">爱解决</a><div class="text-base-content/60 text-sm">用AI为人民服务</div></div></section><div class="dropdown dropdown-end sm:hidden"><div tabindex=0 role=button class="btn btn-ghost btn-square" aria-label="Select an option"><ion-icon name=menu class=text-2xl></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-md"><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/index.xml title=RSS><ion-icon name=logo-rss></ion-icon>RSS</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/posts title=Архивы><ion-icon name=archive></ion-icon>Архивы</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/tags title="Все теги"><ion-icon name=pricetags></ion-icon>Все теги</a></li></ul></div><section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4"><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href=/ru/index.xml title=RSS><ion-icon class=group-hover:text-primary-content name=logo-rss></ion-icon></a><div class="dropdown dropdown-end dropdown-hover"><div tabindex=0 role=button class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" aria-label="Select an option"><ion-icon class="group-hover:text-primary-content text-xl" name=menu></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-xl"><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/posts title=Архивы><ion-icon name=archive></ion-icon>Архивы</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/tags title="Все теги"><ion-icon name=pricetags></ion-icon>Все теги</a></li></ul></div><div class="dropdown dropdown-end dropdown-hover language-switcher"><div tabindex=0 role=button class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" title="Переключить язык"><ion-icon class=group-hover:text-primary-content name=language-outline></ion-icon><span class="ml-1 hidden md:inline group-hover:text-primary-content language-name">Русский</span></div><ul tabindex=0 class="dropdown-content menu bg-base-100 rounded-box z-[1] shadow-xl border border-base-content/20" style=min-width:6rem;width:auto><li><a href=/zh/2025/03/perfect-file-sync-with-rsync/ class="flex items-center gap-2"><span class="flag flag-cn"></span>
<span class=language-name>中文</span></a></li></ul></div></section></div></nav><div class=flip-container :class="{ 'flip-it': flip }"><div class=flipper><div class=front><div class=container><div class="lg:grid lg:grid-cols-4 gap-4 mt-4 px-4"><div class="hidden lg:block"></div><div class=lg:col-span-2><article class="mx-auto prose prose-quoteless dark:prose-invert" id=dream-single-post-main itemscope itemtype=http://schema.org/Article><meta itemprop=name content="Идеальная синхронизация файлов с помощью Rsync: исчерпывающее руководство от новичка до продвинутого пользователя"><meta itemprop=description content="Вам когда-нибудь приходилось переносить большое количество файлов между двумя компьютерами? Или вам нужно создать резервную копию важных данных, но вы боитесь потерять атрибуты файлов (например, время модификации и разрешения)? Представленный сегодня инструмент rsync может не только решить эти проблемы, но и сделать передачу файлов более быстрой и надежной. Независимо от того, являетесь ли вы обычным пользователем или профессионалом, это руководство поможет вам легко освоить этот мощный инструмент."><meta itemprop=datePublished content="2025-03-27T22:47:42+04:00"><meta itemprop=dateModified content="2025-08-13T18:35:28+04:00"><meta itemprop=wordCount content="5346"><meta itemprop=keywords content="Инструменты Эффективности,Управление Документами,Командная Строка (Вычислительная Техника)"><header><h1 itemprop=headline>Идеальная синхронизация файлов с помощью Rsync: исчерпывающее руководство от новичка до продвинутого пользователя</h1><p class=text-sm><span data-format=luxon>2025-03-27T22:47:42+04:00</span>
| <span>11 минут чтения</span>
| <span>Обновлено
<span data-format=luxon>2025-08-13T18:35:28+04:00</span></span></p><div class="flex justify-between"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>董昊</span></span></div><div class="flex items-center gap-2"><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://x.com/intent/post?text=%d0%98%d0%b4%d0%b5%d0%b0%d0%bb%d1%8c%d0%bd%d0%b0%d1%8f%20%d1%81%d0%b8%d0%bd%d1%85%d1%80%d0%be%d0%bd%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f%20%d1%84%d0%b0%d0%b9%d0%bb%d0%be%d0%b2%20%d1%81%20%d0%bf%d0%be%d0%bc%d0%be%d1%89%d1%8c%d1%8e%20Rsync:%20%d0%b8%d1%81%d1%87%d0%b5%d1%80%d0%bf%d1%8b%d0%b2%d0%b0%d1%8e%d1%89%d0%b5%d0%b5%20%d1%80%d1%83%d0%ba%d0%be%d0%b2%d0%be%d0%b4%d1%81%d1%82%d0%b2%d0%be%20%d0%be%d1%82%20%d0%bd%d0%be%d0%b2%d0%b8%d1%87%d0%ba%d0%b0%20%d0%b4%d0%be%20%d0%bf%d1%80%d0%be%d0%b4%d0%b2%d0%b8%d0%bd%d1%83%d1%82%d0%be%d0%b3%d0%be%20%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f&amp;url=https://jiejue.ai/ru/2025/03/perfect-file-sync-with-rsync/" target=_blank rel="noopener noreferrer" title="Share on X"><ion-icon class=group-hover:text-primary-content name=logo-x></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://facebook.com/sharer/sharer.php?u=https://jiejue.ai/ru/2025/03/perfect-file-sync-with-rsync/" target=_blank rel="noopener noreferrer" title="Share on Facebook"><ion-icon class=group-hover:text-primary-content name=logo-facebook></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://wa.me/?text=%d0%98%d0%b4%d0%b5%d0%b0%d0%bb%d1%8c%d0%bd%d0%b0%d1%8f%20%d1%81%d0%b8%d0%bd%d1%85%d1%80%d0%be%d0%bd%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f%20%d1%84%d0%b0%d0%b9%d0%bb%d0%be%d0%b2%20%d1%81%20%d0%bf%d0%be%d0%bc%d0%be%d1%89%d1%8c%d1%8e%20Rsync:%20%d0%b8%d1%81%d1%87%d0%b5%d1%80%d0%bf%d1%8b%d0%b2%d0%b0%d1%8e%d1%89%d0%b5%d0%b5%20%d1%80%d1%83%d0%ba%d0%be%d0%b2%d0%be%d0%b4%d1%81%d1%82%d0%b2%d0%be%20%d0%be%d1%82%20%d0%bd%d0%be%d0%b2%d0%b8%d1%87%d0%ba%d0%b0%20%d0%b4%d0%be%20%d0%bf%d1%80%d0%be%d0%b4%d0%b2%d0%b8%d0%bd%d1%83%d1%82%d0%be%d0%b3%d0%be%20%d0%bf%d0%be%d0%bb%d1%8c%d0%b7%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8f%20https://jiejue.ai/ru/2025/03/perfect-file-sync-with-rsync/" target=_blank rel="noopener noreferrer" title="Share on WhatsApp"><ion-icon class=group-hover:text-primary-content name=logo-whatsapp></ion-icon></a></div></div></header><section id=dream-single-post-content itemprop=articleBody><img class="w-full z-30" src=https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250327225522772.webp alt="Идеальная синхронизация файлов с помощью Rsync: исчерпывающее руководство от новичка до продвинутого пользователя"><p>Вам когда-нибудь приходилось переносить большое количество файлов между двумя компьютерами? Или вам нужно создать резервную копию важных данных, но вы боитесь потерять атрибуты файлов (например, время модификации и разрешения)? Представленный сегодня инструмент rsync может не только решить эти проблемы, но и сделать передачу файлов более быстрой и надежной. Независимо от того, являетесь ли вы обычным пользователем или профессионалом, это руководство поможет вам легко освоить этот мощный инструмент.</p><h2 id=什么是rsync>什么是rsync？</h2><p>rsync (remote synchronization, удаленная синхронизация) - широко распространенный инструмент синхронизации файлов в Unix-подобных системах (включая macOS). Он позволяет эффективно передавать и синхронизировать файлы между локальными файловыми системами или между компьютерами по сети.</p><p>Проще говоря, rsync - это умный мувер (инструмент для передачи файлов), который специально:</p><ul><li>копирует только файлы с изменениями, экономя время и пропускную способность сети</li><li>он может сохранять исходные свойства файлов (временные метки, разрешения и т. д.)</li><li>Поддерживает возобновление точек останова, поэтому вы можете возобновить работу с точки останова после того, как передача была прервана.</li><li>Обеспечивает подробное отображение хода выполнения</li></ul><h2 id=为什么要用rsync>为什么要用rsync？</h2><p>Представьте себе эти сценарии:</p><ul><li><strong>Дизайнеру Сяо Вану</strong> необходимо копировать готовые файлы с рабочего компьютера на резервный жесткий диск дома, но копирование через USB слишком медленное и часто теряется время создания файла.</li><li><strong>Бухгалтер Сестра Ли</strong> должна еженедельно создавать резервные копии своих финансовых данных, но хочет, чтобы дата модификации файлов резервных копий оставалась неизменной, чтобы можно было отслеживать историю файлов</li><li><strong>Студент Сяо Чэнь</strong> часто синхронизирует учебные материалы между двумя компьютерами, но из-за нестабильности сети передача данных прерывается, и каждый раз приходится начинать заново</li></ul><p>Во всех этих случаях rsync прекрасно решает проблему.</p><h2 id=开始使用rsync前的准备>开始使用rsync前的准备</h2><h3 id=安装最新版本>安装最新版本</h3><p>Версия rsync, поставляемая с macOS, устарела и имеет ограниченную функциональность. Рекомендуется установить последнюю версию через Homebrew:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install rsync
</span></span></code></pre></div><p>После установки вы можете проверить версию с помощью следующей команды:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync --version
</span></span></code></pre></div><p>Если отображается номер версии 3.x.x (например, 3.2.x или выше), то поздравляем, вы можете использовать все расширенные возможности, описанные в этой статье!</p><h3 id=了解基本命令结构>了解基本命令结构</h3><p>Основной формат команд для rsync следующий:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync <span style=color:#f92672>[</span>选项<span style=color:#f92672>]</span> 源路径 目标路径
</span></span></code></pre></div><h2 id=rsync基础简单实用的同步命令>rsync基础：简单实用的同步命令</h2><h3 id=最基础的同步命令>最基础的同步命令</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -av 源文件夹/ 目标文件夹/
</span></span></code></pre></div><p>В этой команде:</p><ul><li><code>-a</code> - это &ldquo;режим архива&rdquo;, который сохраняет почти все атрибуты файлов.</li><li><code>-v</code> означает &ldquo;подробный вывод&rdquo; и показывает копируемые файлы.</li></ul><p>Например, синхронизация &ldquo;Моих документов&rdquo; с внешним жестким диском:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -av <span style=color:#e6db74>&#34;~/Documents/&#34;</span> <span style=color:#e6db74>&#34;/Volumes/ExternalDrive/Documents/&#34;</span>
</span></span></code></pre></div><h3 id=添加进度显示>添加进度显示</h3><p>При синхронизации больших файлов или большого количества файлов важно знать о ходе выполнения:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -av --progress 源文件夹/ 目标文件夹/
</span></span></code></pre></div><h2 id=进阶技巧让rsync完全满足你的需求>进阶技巧：让rsync完全满足你的需求</h2><h3 id=不同的进度显示方式>不同的进度显示方式</h3><p>rsync предлагает множество вариантов отображения прогресса для различных сценариев:</p><ol><li><p><strong><code>--progress</code></strong>：显示每个文件的传输进度</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -av --progress 源文件夹/ 目标文件夹/
</span></span></code></pre></div><p>适合：想看到每个文件详细进度的场景</p></li><li><p><strong><code>--info=progress2</code></strong>（推荐，需要新版rsync）：显示总体传输进度</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -av --info<span style=color:#f92672>=</span>progress2 源文件夹/ 目标文件夹/
</span></span></code></pre></div><p>适合：同步大量文件时，只想看整体进度</p></li><li><p><strong><code>-P</code></strong>：这是<code>--progress --partial</code>的组合，允许断点续传并显示进度</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -avP 源文件夹/ 目标文件夹/
</span></span></code></pre></div><p>适合：网络不稳定环境下的传输</p></li></ol><h3 id=保持原始时间戳和属性>保持原始时间戳和属性</h3><p>Иногда вы можете обнаружить, что время модификации файла становится текущим временем после синхронизации. Этого можно избежать, если использовать правильные параметры:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -avt 源文件夹/ 目标文件夹/
</span></span></code></pre></div><p>Среди них:</p><ul><li>`-t&rsquo; используется исключительно для сохранения времени модификации файла</li></ul><p>Для пользователей Mac можно также добавить опцию <code>-E</code>, чтобы сохранить атрибуты файлов, специфичные для macOS:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -avtE 源文件夹/ 目标文件夹/
</span></span></code></pre></div><h3 id=镜像同步删除目标中多余的文件>镜像同步（删除目标中多余的文件）</h3><p>Если вы хотите, чтобы целевая папка точно соответствовала исходной (удалите из целевой папки файлы, которых нет в исходной):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -av --delete 源文件夹/ 目标文件夹/
</span></span></code></pre></div><p>⚠️ Пожалуйста, будьте осторожны с опцией <code>--delete</code>, она удалит файлы в целевом расположении, которых нет в исходном расположении.</p><h3 id=先测试再执行>先测试，再执行</h3><p>Перед выполнением критической синхронизации можно использовать проход с опцией <code>--dry-run</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -av --dry-run 源文件夹/ 目标文件夹/
</span></span></code></pre></div><p>Это покажет действие, которое будет выполнено, но на самом деле не будет выполнено.</p><h3 id=排除特定文件或文件夹>排除特定文件或文件夹</h3><p>Исключите файлы, которые не нужно синхронизировать:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -av --exclude<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;*.tmp&#39;</span> --exclude<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;temp/&#39;</span> 源文件夹/ 目标文件夹/
</span></span></code></pre></div><h2 id=rsync如何工作了解原理>rsync如何工作：了解原理</h2><p>rsync эффективен, потому что использует умный алгоритм для распознавания изменений файлов.</p><pre class=mermaid>
  flowchart TD
    A[开始同步] --&gt; B{检查文件是否存在于目标}
    B --&gt;|否| C[完整复制文件]
    B --&gt;|是| D{检查文件大小和修改时间}
    D --&gt;|不同| E[计算文件差异]
    D --&gt;|相同| F[跳过文件]
    E --&gt; G{传输差异块}
    G --&gt; H[在目标重建完整文件]
    C --&gt; Z[继续下一个文件]
    F --&gt; Z
    H --&gt; Z
    Z --&gt; I{还有更多文件?}
    I --&gt;|是| B
    I --&gt;|否| J[同步完成]
</pre><p>Этот метод инкрементной передачи значительно повышает эффективность, поскольку передается только та часть файла, которая изменилась. Например, если в файле объемом 10 ГБ было изменено всего несколько МБ, rsync передаст только эти несколько МБ данных.</p><h2 id=常见场景的最佳实践>常见场景的最佳实践</h2><h3 id=场景一备份重要文档>场景一：备份重要文档</h3><p>Сохраняет все атрибуты и показывает общий прогресс:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -avE --info<span style=color:#f92672>=</span>progress2 ~/Documents/ /Volumes/Backup/Documents/
</span></span></code></pre></div><h3 id=场景二同步两台mac之间的文件夹>场景二：同步两台Mac之间的文件夹</h3><p>Сетевая среда нестабильна и требует прерывистой и сжатой передачи данных:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -avzP ~/Projects/ user@remote-mac:~/Projects/
</span></span></code></pre></div><h3 id=场景三创建完全镜像的备份>场景三：创建完全镜像的备份</h3><p>Полная синхронизация зеркал с сохранением всех атрибутов:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -avE --delete --info<span style=color:#f92672>=</span>progress2 ~/Pictures/ /Volumes/Backup/Pictures/
</span></span></code></pre></div><h2 id=排查常见问题>排查常见问题</h2><ol><li><strong>Проблемы с правами доступа к файлам</strong>: Если у вас возникла ошибка с правами доступа, попробуйте выполнить команду с `sudo'</li><li><strong>Изменения временной метки</strong>: убедитесь, что вы используете опцию <code>-a</code> или <code>-t</code>!</li><li><strong>Слишком медленно</strong>: добавьте опцию <code>-z</code>, чтобы включить сжатие.</li><li><strong>Дополнительные опции не найдены</strong>: проверьте версию rsync, возможно, ее нужно обновить!</li></ol><h2 id=总结>总结</h2><p>rsync - это очень мощный инструмент синхронизации файлов, освоение которого может значительно повысить эффективность работы с файлами. Мы надеемся, что это руководство поможет вам максимально использовать возможности rsync: от простого резервного копирования до сложной удаленной синхронизации, от базового использования до расширенных опций.</p><p>Если вы дизайнер, которому необходимо создать резервную копию своей работы, бухгалтер, которому нужно сохранить финансовые данные, или студент, которому нужно синхронизировать учебные материалы на нескольких устройствах, rsync удовлетворит все ваши требования к синхронизации файлов.</p><h2 id=思考问题>思考问题</h2><p>Если вы регулярно синхронизируете файлы между несколькими устройствами, попробуйте создать простой сценарий для автоматизации этого процесса. Как вы думаете, каковы преимущества и недостатки rsync по сравнению с другими программами резервного копирования для выполнения регулярных задач резервного копирования? Как бы вы на практике сбалансировали автоматизацию и безопасность данных?</p></section><div class=divider></div><div class="flex flex-col md:flex-row justify-between gap-4 py-4"><a role=button class="btn btn-outline h-12" href=/ru/2025/03/efficient-file-transfer-with-tar/ title="Эффективная передача файлов с помощью команды tar: попрощайтесь с долгим ожиданием!"><ion-icon name=chevron-back></ion-icon><div class="inline-flex flex-col items-start"><span class="text-base-content/60 text-xs font-normal">Предыдущая</span>
<span class="max-w-48 truncate">Эффективная передача файлов с помощью команды tar: попрощайтесь с долгим ожиданием!</span></div></a><a role=button class="btn btn-outline h-12" href=/ru/2025/03/pre-commit-hooks-automation/ title="Освободите руки: автоматизация проверок качества кода и исправлений с помощью pre-commit"><div class="inline-flex flex-col items-end"><span class="text-base-content/60 text-xs font-normal">Следующая</span>
<span class="max-w-48 truncate">Освободите руки: автоматизация проверок качества кода и исправлений с помощью pre-commit</span></div><ion-icon name=chevron-forward></ion-icon></a></div><div class=divider></div><section class=space-y-4><article><div id=tcomment></div><script src=https://cdn.jsdelivr.net/npm/twikoo@1.6.41/dist/twikoo.min.js></script><script>twikoo.init({envId:"https://6dhzwvtyqz753zhpkrvnnydhlm0vubmy.lambda-url.ap-east-1.on.aws/",el:"#tcomment",region:"ap-east-1",path:"/ru/2025/03/perfect-file-sync-with-rsync/",lang:"zh-CN"})</script></article></section></article></div><div x-data=tocHighlighter() @scroll.window=debouncedScroll class="hidden lg:flex lg:flex-col lg:items-end"><nav id=TableOfContents><ul><li><a href=#什么是rsync>什么是rsync？</a></li><li><a href=#为什么要用rsync>为什么要用rsync？</a></li><li><a href=#开始使用rsync前的准备>开始使用rsync前的准备</a><ul><li><a href=#安装最新版本>安装最新版本</a></li><li><a href=#了解基本命令结构>了解基本命令结构</a></li></ul></li><li><a href=#rsync基础简单实用的同步命令>rsync基础：简单实用的同步命令</a><ul><li><a href=#最基础的同步命令>最基础的同步命令</a></li><li><a href=#添加进度显示>添加进度显示</a></li></ul></li><li><a href=#进阶技巧让rsync完全满足你的需求>进阶技巧：让rsync完全满足你的需求</a><ul><li><a href=#不同的进度显示方式>不同的进度显示方式</a></li><li><a href=#保持原始时间戳和属性>保持原始时间戳和属性</a></li><li><a href=#镜像同步删除目标中多余的文件>镜像同步（删除目标中多余的文件）</a></li><li><a href=#先测试再执行>先测试，再执行</a></li><li><a href=#排除特定文件或文件夹>排除特定文件或文件夹</a></li></ul></li><li><a href=#rsync如何工作了解原理>rsync如何工作：了解原理</a></li><li><a href=#常见场景的最佳实践>常见场景的最佳实践</a><ul><li><a href=#场景一备份重要文档>场景一：备份重要文档</a></li><li><a href=#场景二同步两台mac之间的文件夹>场景二：同步两台Mac之间的文件夹</a></li><li><a href=#场景三创建完全镜像的备份>场景三：创建完全镜像的备份</a></li></ul></li><li><a href=#排查常见问题>排查常见问题</a></li><li><a href=#总结>总结</a></li><li><a href=#思考问题>思考问题</a></li></ul></nav></div></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>© 2025 ЛюбимРешать</p><p>一个热爱解决问题的网站</p></div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><section><span id=busuanzi_container_value_site_pv><i class="far fa-eye fa-fw"></i>
本站总访问量 <span id=busuanzi_value_site_pv></span>
</span>&nbsp;|&nbsp;
<span id=busuanzi_container_value_site_uv><i class="fa fa-user"></i>
本站访客数 <span id=busuanzi_value_site_uv></span></span></section></span></section></script><div x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div><div class=back><div class=container><div class="dream-grid dream-grid-about"></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>© 2025 ЛюбимРешать</p><p>一个热爱解决问题的网站</p></div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><section><span id=busuanzi_container_value_site_pv><i class="far fa-eye fa-fw"></i>
本站总访问量 <span id=busuanzi_value_site_pv></span>
</span>&nbsp;|&nbsp;
<span id=busuanzi_container_value_site_uv><i class="fa fa-user"></i>
本站访客数 <span id=busuanzi_value_site_uv></span></span></section></span></section></script><div x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div></div></div><script>window.lightTheme="emerald",window.darkTheme="forest"</script><script src=https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin=anonymous></script><script src=/js/grid.min.js></script><script src=/js/main.min.js></script><script src=https://cdn.jsdelivr.net/npm/luxon@1.26.0 integrity="sha256-4sbTzmCCW9LGrIh5OsN8V5Pfdad1F1MwhLAOyXKnsE0=" crossorigin=anonymous></script><script>format();function format(){document.querySelectorAll('span[data-format="luxon"]').forEach(e=>{const t=e.textContent;e.textContent=luxon.DateTime.fromISO(t,{locale:"ru"}).toFormat("yyyy年MM月dd日 HH:mm")})}</script><script src=/js/toc.min.js></script><script type=module>
      import mediumZoom from 'https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/+esm';
      mediumZoom('#dream-single-post-content img', {
        background: 'oklch(var(--b1))',
        margin: 24,
      })
    </script><script type=module>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
      </script><script async src="https://www.googletagmanager.com/gtag/js?id=G-S0KCH9BW4F"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-S0KCH9BW4F")}</script><script type=module src=https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.esm.js integrity="sha256-/IFmi82bIhdYWctu0UddSlJqpnzWm7Vh2C4CM32wF/k=" crossorigin=anonymous></script><script nomodule src=https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.js integrity="sha256-mr7eJMX3VC3F7G32mk4oWp1C6a2tlMYxUdptfT7uKI8=" crossorigin=anonymous></script></body></html>