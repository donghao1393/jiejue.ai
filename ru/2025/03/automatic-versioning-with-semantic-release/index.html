<!doctype html><html lang=ru-RU x-data :class=$store.darkMode.class() :data-theme=$store.darkMode.theme()><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Автоматизация выпусков с помощью Semantic Release: подводные камни и решения | ЛюбимРешать</title><link href=/favicon.ico rel=icon type=image/x-icon><link rel=canonical href=https://jiejue.ai/ru/2025/03/automatic-versioning-with-semantic-release/><meta name=author content="董昊"><meta name=description content="В процессе разработки программного обеспечения версионирование кажется простым, но часто становится головной болью. Управлять версиями вручную не только утомительно, но и чревато ошибками. С помощью Semantic Release мы можем автоматизировать этот процесс, но есть некоторые подводные камни, которые можно легко упустить из виду. В этой статье мы расскажем о проблемах и решениях, с которыми столкнулась наша команда при использовании Semantic Release, чтобы помочь вам избежать этих подводных камней.
"><meta name=keywords content="DevOps,Git,Автоматический,Контроль Версий"><meta name=generator content="Hugo 0.148.2"><meta property="og:url" content="https://jiejue.ai/ru/2025/03/automatic-versioning-with-semantic-release/"><meta property="og:site_name" content="ЛюбимРешать"><meta property="og:title" content="Автоматизация выпусков с помощью Semantic Release: подводные камни и решения"><meta property="og:description" content="В процессе разработки программного обеспечения версионирование кажется простым, но часто становится головной болью. Управлять версиями вручную не только утомительно, но и чревато ошибками. С помощью Semantic Release мы можем автоматизировать этот процесс, но есть некоторые подводные камни, которые можно легко упустить из виду. В этой статье мы расскажем о проблемах и решениях, с которыми столкнулась наша команда при использовании Semantic Release, чтобы помочь вам избежать этих подводных камней."><meta property="og:locale" content="ru_RU"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-13T21:15:50+04:00"><meta property="article:modified_time" content="2025-08-13T18:35:28+04:00"><meta property="article:tag" content="DevOps"><meta property="article:tag" content="Git"><meta property="article:tag" content="Автоматический"><meta property="article:tag" content="Контроль Версий"><meta name=twitter:card content="summary"><meta name=twitter:title content="Автоматизация выпусков с помощью Semantic Release: подводные камни и решения"><meta name=twitter:description content="В процессе разработки программного обеспечения версионирование кажется простым, но часто становится головной болью. Управлять версиями вручную не только утомительно, но и чревато ошибками. С помощью Semantic Release мы можем автоматизировать этот процесс, но есть некоторые подводные камни, которые можно легко упустить из виду. В этой статье мы расскажем о проблемах и решениях, с которыми столкнулась наша команда при использовании Semantic Release, чтобы помочь вам избежать этих подводных камней."><link rel=stylesheet href=/css/output.min.css><style>pre{padding:1em;overflow:auto}</style><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js integrity="sha256-PtHu0lJIiSHfZeNj1nFd6wTX+Squ255SGZ/fc8seCtM=" crossorigin=anonymous></script></head><body x-data="{
    flip: false,
  }"><div id=dream-global-bg></div><nav x-data="{ isSticky: false }" x-init="window.addEventListener('scroll', () => { isSticky = window.scrollY > 30 })" class="sticky top-0 z-30 mt-4 lg:mt-8 py-4" :class="{ 'bg-base-100 shadow-lg dark:border-b dark:border-base-content/30': isSticky }"><div class="container flex justify-between px-4"><section class="flex items-center gap-4"><div class="avatar cursor-pointer hover:avatar-online" @click="flip = !flip" title=Повернуть!><div class="h-10 rounded-full"><img src=/favicon.ico alt=爱解决></div></div><div><a href=/ru class="text-lg font-semibold cursor-pointer">爱解决</a><div class="text-base-content/60 text-sm">用AI为人民服务</div></div></section><div class="dropdown dropdown-end sm:hidden"><div tabindex=0 role=button class="btn btn-ghost btn-square" aria-label="Select an option"><ion-icon name=menu class=text-2xl></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-md"><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/index.xml title=RSS><ion-icon name=logo-rss></ion-icon>RSS</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/posts title=Архивы><ion-icon name=archive></ion-icon>Архивы</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/tags title="Все теги"><ion-icon name=pricetags></ion-icon>Все теги</a></li></ul></div><section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4"><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href=/ru/index.xml title=RSS><ion-icon class=group-hover:text-primary-content name=logo-rss></ion-icon></a><div class="dropdown dropdown-end dropdown-hover"><div tabindex=0 role=button class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" aria-label="Select an option"><ion-icon class="group-hover:text-primary-content text-xl" name=menu></ion-icon></div><ul tabindex=0 class="dropdown-content menu w-36 bg-base-100 rounded-box z-1 shadow-xl"><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/posts title=Архивы><ion-icon name=archive></ion-icon>Архивы</a></li><li><a class="inline-flex items-center p-2 cursor-pointer" href=/ru/tags title="Все теги"><ion-icon name=pricetags></ion-icon>Все теги</a></li></ul></div><div class="dropdown dropdown-end dropdown-hover language-switcher"><div tabindex=0 role=button class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" title="Переключить язык"><ion-icon class=group-hover:text-primary-content name=language-outline></ion-icon><span class="ml-1 hidden md:inline group-hover:text-primary-content language-name">Русский</span></div><ul tabindex=0 class="dropdown-content menu bg-base-100 rounded-box z-[1] shadow-xl border border-base-content/20" style=min-width:6rem;width:auto><li><a href=/zh/2025/03/automatic-versioning-with-semantic-release/ class="flex items-center gap-2"><span class="flag flag-cn"></span>
<span class=language-name>中文</span></a></li></ul></div></section></div></nav><div class=flip-container :class="{ 'flip-it': flip }"><div class=flipper><div class=front><div class=container><div class="lg:grid lg:grid-cols-4 gap-4 mt-4 px-4"><div class="hidden lg:block"></div><div class=lg:col-span-2><article class="mx-auto prose prose-quoteless dark:prose-invert" id=dream-single-post-main itemscope itemtype=http://schema.org/Article><meta itemprop=name content="Автоматизация выпусков с помощью Semantic Release: подводные камни и решения"><meta itemprop=description content="В процессе разработки программного обеспечения версионирование кажется простым, но часто становится головной болью. Управлять версиями вручную не только утомительно, но и чревато ошибками. С помощью Semantic Release мы можем автоматизировать этот процесс, но есть некоторые подводные камни, которые можно легко упустить из виду. В этой статье мы расскажем о проблемах и решениях, с которыми столкнулась наша команда при использовании Semantic Release, чтобы помочь вам избежать этих подводных камней."><meta itemprop=datePublished content="2025-03-13T21:15:50+04:00"><meta itemprop=dateModified content="2025-08-13T18:35:28+04:00"><meta itemprop=wordCount content="5135"><meta itemprop=keywords content="DevOps,Git,Автоматический,Контроль Версий"><header><h1 itemprop=headline>Автоматизация выпусков с помощью Semantic Release: подводные камни и решения</h1><p class=text-sm><span data-format=luxon>2025-03-13T21:15:50+04:00</span>
| <span>11 минут чтения</span>
| <span>Обновлено
<span data-format=luxon>2025-08-13T18:35:28+04:00</span></span></p><div class="flex justify-between"><div class="flex items-center"><span>@</span>
<span itemprop=author itemscope itemtype=https://schema.org/Person><span itemprop=name>董昊</span></span></div><div class="flex items-center gap-2"><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://x.com/intent/post?text=%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f%20%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%be%d0%b2%20%d1%81%20%d0%bf%d0%be%d0%bc%d0%be%d1%89%d1%8c%d1%8e%20Semantic%20Release:%20%d0%bf%d0%be%d0%b4%d0%b2%d0%be%d0%b4%d0%bd%d1%8b%d0%b5%20%d0%ba%d0%b0%d0%bc%d0%bd%d0%b8%20%d0%b8%20%d1%80%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d1%8f&amp;url=https://jiejue.ai/ru/2025/03/automatic-versioning-with-semantic-release/" target=_blank rel="noopener noreferrer" title="Share on X"><ion-icon class=group-hover:text-primary-content name=logo-x></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://facebook.com/sharer/sharer.php?u=https://jiejue.ai/ru/2025/03/automatic-versioning-with-semantic-release/" target=_blank rel="noopener noreferrer" title="Share on Facebook"><ion-icon class=group-hover:text-primary-content name=logo-facebook></ion-icon></a><a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://wa.me/?text=%d0%90%d0%b2%d1%82%d0%be%d0%bc%d0%b0%d1%82%d0%b8%d0%b7%d0%b0%d1%86%d0%b8%d1%8f%20%d0%b2%d1%8b%d0%bf%d1%83%d1%81%d0%ba%d0%be%d0%b2%20%d1%81%20%d0%bf%d0%be%d0%bc%d0%be%d1%89%d1%8c%d1%8e%20Semantic%20Release:%20%d0%bf%d0%be%d0%b4%d0%b2%d0%be%d0%b4%d0%bd%d1%8b%d0%b5%20%d0%ba%d0%b0%d0%bc%d0%bd%d0%b8%20%d0%b8%20%d1%80%d0%b5%d1%88%d0%b5%d0%bd%d0%b8%d1%8f%20https://jiejue.ai/ru/2025/03/automatic-versioning-with-semantic-release/" target=_blank rel="noopener noreferrer" title="Share on WhatsApp"><ion-icon class=group-hover:text-primary-content name=logo-whatsapp></ion-icon></a></div></div></header><section id=dream-single-post-content itemprop=articleBody><img class="w-full z-30" src=https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250313211837337.webp alt="Автоматизация выпусков с помощью Semantic Release: подводные камни и решения"><p>В процессе разработки программного обеспечения версионирование кажется простым, но часто становится головной болью. Управлять версиями вручную не только утомительно, но и чревато ошибками. С помощью Semantic Release мы можем автоматизировать этот процесс, но есть некоторые подводные камни, которые можно легко упустить из виду. В этой статье мы расскажем о проблемах и решениях, с которыми столкнулась наша команда при использовании Semantic Release, чтобы помочь вам избежать этих подводных камней.</p><h2 id=问题背景当自动化版本发布遇到了拒绝发布>问题背景：当自动化版本发布遇到了"拒绝发布"</h2><p>Ли - начинающий инженер-программист, и его команда недавно начала использовать средства автоматизации для управления версиями проектов. Однажды он коммитит код, содержащий новую функцию, следуя обычному процессу, и, как ни странно, система непрерывной интеграции выдает следующее сообщение:</p><pre tabindex=0><code>The type of the next release release is: no_release
</code></pre><p>Это означает, что, несмотря на то, что код был слит в мастер-ветку, автоматизированная система не считает изменения достаточными для создания нового релиза. Ли недоумевает, почему система не видит необходимости в новом релизе, ведь это явно важное обновление функций.</p><h2 id=语义化版本semantic-versioning是什么>语义化版本（Semantic Versioning）是什么？</h2><p>Прежде чем мы погрузимся в проблему, нам нужно понять, что такое семантизированная версия. Семантизированные версии обычно имеют формат <code>X.Y.Z</code>, где:</p><ul><li><strong>X</strong>: номер основной версии - когда были внесены несовместимые изменения в API</li><li><strong>Y</strong>: номер минорной версии - когда была добавлена функциональность, совместимая с обратными изменениями</li><li><strong>Z</strong>: номер ревизии (Patch) - когда были сделаны исправления проблем, совместимых с обратным развитием.</li></ul><p>Когда мы используем автоматизированный инструмент, такой как Semantic Release, он будет использовать информацию о фиксации, чтобы определить, какую часть номера версии следует обновить, или даже определить, нужен ли новый релиз.</p><h2 id=问题分析提交信息格式的重要性>问题分析：提交信息格式的重要性</h2><p>При более внимательном изучении журналов мы обнаружили проблему: Semantic Release анализировал коммиты в соответствии со спецификацией Conventional Commits. Эта спецификация требует, чтобы коммиты следовали определенному формату:</p><pre tabindex=0><code>&lt;type&gt;[optional scope]: &lt;description&gt;

[optional body]

[optional footer(s)]
</code></pre><p>Значение <code>type</code> является ключевым и определяет, как будет изменен номер версии:</p><ul><li><code>feat</code>: новая функция, вызывающая увеличение номера минорной версии (Y)</li><li><code>fix</code>: исправление проблем, вызывающее увеличение номера ревизии (Z)</li><li><code>perf</code>: оптимизация производительности, обычно вызывает увеличение номера ревизии</li></ul><p>Такие типы, как <code>docs</code>, <code>style</code>, <code>refactor</code>, <code>test</code>, <code>chore</code> и т. д., по умолчанию не вызывают изменения версии.</p><p>Вот где кроется проблема Ли: он использует <code>feature:</code> вместо стандартного <code>feat:</code> в качестве типа коммита, или он использует <code>refactor:</code> для своих коммитов, из-за чего Semantic Release не может распознать необходимость нового релиза.</p><h2 id=尝试的解决方案>尝试的解决方案</h2><p>Мы попробовали несколько способов решить эту проблему:</p><h3 id=1-修改历史提交顺序与内容>1. 修改历史提交顺序与内容</h3><p>Сначала мы пытались упорядочить и изменить историю коммитов с помощью интерактивного rebase в Git&rsquo;е:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git rebase -i HEAD~4  <span style=color:#75715e># 显示最近4个提交</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 修改提交顺序和内容</span>
</span></span><span style=display:flex><span>git push --force  <span style=color:#75715e># 强制推送到远程仓库</span>
</span></span></code></pre></div><p>Однако такой подход не решил проблему, поскольку даже после изменения порядка фиксаций проблема с форматированием сообщения о фиксации осталась.</p><h3 id=2-检查-semantic-release-配置>2. 检查 Semantic Release 配置</h3><p>Далее мы проверили конфигурацию Semantic Release в проекте:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;branches&#34;</span>: [<span style=color:#e6db74>&#34;main&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;plugins&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;@semantic-release/commit-analyzer&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;@semantic-release/release-notes-generator&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;@semantic-release/changelog&#34;</span>,
</span></span><span style=display:flex><span>    [<span style=color:#e6db74>&#34;@semantic-release/exec&#34;</span>, {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;verifyConditionsCmd&#34;</span>: <span style=color:#e6db74>&#34;uv --version&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;prepareCmd&#34;</span>: <span style=color:#e6db74>&#34;sed -i.bak &#39;s/version = \&#34;.*\&#34;/version = \&#34;${nextRelease.version}\&#34;/g&#39; pyproject.toml &amp;&amp; rm -f pyproject.toml.bak&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;publishCmd&#34;</span>: <span style=color:#e6db74>&#34;uv build&#34;</span>
</span></span><span style=display:flex><span>    }],
</span></span><span style=display:flex><span>    [<span style=color:#e6db74>&#34;@semantic-release/git&#34;</span>, {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;assets&#34;</span>: [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;pyproject.toml&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;CHANGELOG.md&#34;</span>
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;message&#34;</span>: <span style=color:#e6db74>&#34;chore(release): ${nextRelease.version}\n\n${nextRelease.notes}&#34;</span>
</span></span><span style=display:flex><span>    }],
</span></span><span style=display:flex><span>    [<span style=color:#e6db74>&#34;@semantic-release/github&#34;</span>, {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;assets&#34;</span>: [
</span></span><span style=display:flex><span>        {<span style=color:#f92672>&#34;path&#34;</span>: <span style=color:#e6db74>&#34;dist/*.whl&#34;</span>, <span style=color:#f92672>&#34;label&#34;</span>: <span style=color:#e6db74>&#34;Python Wheel ${nextRelease.version}&#34;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#f92672>&#34;path&#34;</span>: <span style=color:#e6db74>&#34;dist/*.tar.gz&#34;</span>, <span style=color:#f92672>&#34;label&#34;</span>: <span style=color:#e6db74>&#34;Source Distribution ${nextRelease.version}&#34;</span>}
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    }]
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Это стандартная конфигурация, в которой нет пользовательских правил, запрещающих определенным типам коммитов вызывать релиз.</p><h2 id=成功的解决方案>成功的解决方案</h2><p>В итоге мы использовали простой, но эффективный метод:</p><ol><li>Используйте <code>git cherry-pick</code> для извлечения нужных коммитов из резервной ветки.</li><li>Используйте <code>git rebase</code> и <code>git commit --amend</code>, чтобы изменить сообщение коммита с <code>feature:</code> или <code>refactor:</code> на стандартное <code>feat:</code>.</li><li>Принудительный push в удаленный репозиторий</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git cherry-pick &lt;commit-hash&gt;
</span></span><span style=display:flex><span>git rebase -i HEAD~
</span></span><span style=display:flex><span><span style=color:#75715e># 在编辑器中将 &#34;feature:&#34; 或 &#34;refactor:&#34; 改为 &#34;feat:&#34;</span>
</span></span><span style=display:flex><span>git push --force
</span></span></code></pre></div><p>На этот раз система CI/CD успешно распознала тип фиксации и автоматически добавила номер минорной версии проекта.</p><h2 id=规范的提交信息类型参考>规范的提交信息类型参考</h2><p>Чтобы избежать подобных проблем, здесь перечислены стандартные типы фиксации и соответствующие им влияния версий:</p><table><thead><tr><th>тип представления</th><th>описание</th><th>влияние версии</th></tr></thead><tbody><tr><td><code>feat</code></td><td>Новая функция</td><td>Добавить номер минорной версии (Y)</td></tr><tr><td><code>fix</code></td><td>Исправление ошибок</td><td>Добавить номер ревизии (Z)</td></tr><tr><td><code>docs</code></td><td>Изменения в документации</td><td>Обычно не вызывают изменения версии</td></tr><tr><td><code>style</code></td><td>Изменения стиля кода (не влияет на функциональность)</td><td>Обычно не вызывает ревизию</td></tr><tr><td><code>refactor</code></td><td>Рефакторинг кода</td><td>Обычно не вызывает изменения версии</td></tr><tr><td><code>perf</code></td><td>Оптимизация производительности</td><td>Обычно вызывает увеличение номера ревизии</td></tr><tr><td><code>test</code></td><td>Связанные с тестированием</td><td>Обычно не вызывают изменения ревизии</td></tr><tr><td><code>build</code></td><td>Изменения в системе сборки</td><td>Обычно не вызывают увеличения номера ревизии</td></tr><tr><td><code>ci</code></td><td>Изменения конфигурации CI</td><td>Обычно не вызываются</td></tr><tr><td><code>chore</code></td><td>Другие изменения</td><td>Обычно не вызываются</td></tr></tbody></table><p>Для деструктивных изменений можно использовать символ <code>! </code>или добавить префикс <code>BREAKING CHANGE:</code> к сообщению о фиксации:</p><pre tabindex=0><code>feat!: 添加了一个有破坏性的功能
</code></pre><p>возможно</p><pre tabindex=0><code>feat: 添加了新功能

BREAKING CHANGE: 这个变更破坏了之前的API
</code></pre><p>Это приводит к увеличению номера основной версии (X).</p><h2 id=自定义提交类型行为>自定义提交类型行为</h2><p>Если вы хотите, чтобы некоторые типы коммитов, которые по умолчанию не вызывают изменения версии (например, <code>refactor</code>), также вызывали изменения версии, вы можете добавить в конфигурацию пользовательское правило:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;plugins&#34;</span>: [
</span></span><span style=display:flex><span>    [<span style=color:#e6db74>&#34;@semantic-release/commit-analyzer&#34;</span>, {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;preset&#34;</span>: <span style=color:#e6db74>&#34;angular&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;releaseRules&#34;</span>: [
</span></span><span style=display:flex><span>        {<span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;refactor&#34;</span>, <span style=color:#f92672>&#34;release&#34;</span>: <span style=color:#e6db74>&#34;patch&#34;</span>}
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    }],
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 其他插件...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Таким образом, коммиты типа <code>refactor</code> будут также вызывать увеличение номера ревизии.</p><h2 id=总结与经验>总结与经验</h2><p>Во время этого пит-стопа мы усвоили несколько важных уроков:</p><ol><li><strong>Строго следуйте спецификации фиксации, основанной на соглашениях</strong>: используйте стандартные префиксы типов фиксации (<code>feat:</code>, <code>fix:</code> и т. д.), а не полные слова или варианты</li><li><strong>Понимайте влияние различных типов фиксации</strong>: знайте, какие типы вызывают обновление версий, а какие нет</li><li><strong>Познакомьтесь с инструментами Git</strong>: научитесь использовать такие инструменты, как <code>cherry-pick</code>, <code>rebase</code> и т. д., чтобы исправить проблемы с историей коммитов</li><li><strong>Сохраняйте конфигурацию простой</strong>: сохраняйте конфигурацию по умолчанию, если у вас нет особых потребностей</li></ol><p>Для команд рекомендуется добавить спецификацию Conventional Commit Specification в документацию команды и рассмотреть возможность использования инструмента проверки сообщений коммита (например, <code>commitlint</code>), чтобы убедиться, что все коммиты соответствуют спецификации.</p><p>Инструменты семантического версионирования могут значительно упростить управление версиями, но только в том случае, если мы должны понимать и следовать его правилам. Надеюсь, эта статья поможет вам избежать подобных подводных камней и успешно автоматизировать управление версиями.</p><h2 id=相关资源>相关资源</h2><ul><li><a href=https://www.conventionalcommits.org/zh-hans/v1.0.0/ target=_blank>Официальная документация по спецификации Conventional Commit</a></li><li><a href=https://github.com/semantic-release/semantic-release target=_blank>Репозиторий Semantic Release GitHub</a></li><li><a href=https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2 target=_blank>Git Interactive Changebase Tutorial</a></li></ul></section><div class=divider></div><div class="flex flex-col md:flex-row justify-between gap-4 py-4"><a role=button class="btn btn-outline h-12" href=/ru/2025/03/fix-broken-python-virtual-environment-uv/ title="Виртуальная среда Python повреждена? Исправьте проблемы с окружением проекта uv одним щелчком мыши"><ion-icon name=chevron-back></ion-icon><div class="inline-flex flex-col items-start"><span class="text-base-content/60 text-xs font-normal">Предыдущая</span>
<span class="max-w-48 truncate">Виртуальная среда Python повреждена? Исправьте проблемы с окружением проекта uv одним щелчком мыши</span></div></a><a role=button class="btn btn-outline h-12" href=/ru/2025/03/elegant-internal-service-access-with-kubernetes-fish/ title="Элегантный доступ к сервисам интрасети с помощью Kubernetes и Fish Shell"><div class="inline-flex flex-col items-end"><span class="text-base-content/60 text-xs font-normal">Следующая</span>
<span class="max-w-48 truncate">Элегантный доступ к сервисам интрасети с помощью Kubernetes и Fish Shell</span></div><ion-icon name=chevron-forward></ion-icon></a></div><div class=divider></div><section class=space-y-4><article><div id=tcomment></div><script src=https://cdn.jsdelivr.net/npm/twikoo@1.6.41/dist/twikoo.min.js></script><script>twikoo.init({envId:"https://6dhzwvtyqz753zhpkrvnnydhlm0vubmy.lambda-url.ap-east-1.on.aws/",el:"#tcomment",region:"ap-east-1",path:"/ru/2025/03/automatic-versioning-with-semantic-release/",lang:"zh-CN"})</script></article></section></article></div><div x-data=tocHighlighter() @scroll.window=debouncedScroll class="hidden lg:flex lg:flex-col lg:items-end"><nav id=TableOfContents><ul><li><a href=#问题背景当自动化版本发布遇到了拒绝发布>问题背景：当自动化版本发布遇到了"拒绝发布"</a></li><li><a href=#语义化版本semantic-versioning是什么>语义化版本（Semantic Versioning）是什么？</a></li><li><a href=#问题分析提交信息格式的重要性>问题分析：提交信息格式的重要性</a></li><li><a href=#尝试的解决方案>尝试的解决方案</a><ul><li><a href=#1-修改历史提交顺序与内容>1. 修改历史提交顺序与内容</a></li><li><a href=#2-检查-semantic-release-配置>2. 检查 Semantic Release 配置</a></li></ul></li><li><a href=#成功的解决方案>成功的解决方案</a></li><li><a href=#规范的提交信息类型参考>规范的提交信息类型参考</a></li><li><a href=#自定义提交类型行为>自定义提交类型行为</a></li><li><a href=#总结与经验>总结与经验</a></li><li><a href=#相关资源>相关资源</a></li></ul></nav></div></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>© 2025 ЛюбимРешать</p><p>一个热爱解决问题的网站</p></div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><section><span id=busuanzi_container_value_site_pv><i class="far fa-eye fa-fw"></i>
本站总访问量 <span id=busuanzi_value_site_pv></span>
</span>&nbsp;|&nbsp;
<span id=busuanzi_container_value_site_uv><i class="fa fa-user"></i>
本站访客数 <span id=busuanzi_value_site_uv></span></span></section></span></section></script><div x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div><div class=back><div class=container><div class="dream-grid dream-grid-about"></div><footer class="flex justify-between items-center gap-2 px-4 py-12"><div><p>© 2025 ЛюбимРешать</p><p>一个热爱解决问题的网站</p></div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><section><span id=busuanzi_container_value_site_pv><i class="far fa-eye fa-fw"></i>
本站总访问量 <span id=busuanzi_value_site_pv></span>
</span>&nbsp;|&nbsp;
<span id=busuanzi_container_value_site_uv><i class="fa fa-user"></i>
本站访客数 <span id=busuanzi_value_site_uv></span></span></section></span></section></script><div x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }" class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"><template x-for="icon in icons"><div role=button tabindex=0 :aria-label="'Select ' + icon.name + ' mode'" class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary" :class="$store.darkMode.icon() === icon.name && 'bg-primary'" @click=$store.darkMode.toggle(icon.status)><ion-icon :name="`${icon.name}-outline`" class=group-hover:text-primary-content :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"></ion-icon></div></template></div></footer></div></div></div></div><script>window.lightTheme="emerald",window.darkTheme="forest"</script><script src=https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin=anonymous></script><script src=/js/grid.min.js></script><script src=/js/main.min.js></script><script src=https://cdn.jsdelivr.net/npm/luxon@1.26.0 integrity="sha256-4sbTzmCCW9LGrIh5OsN8V5Pfdad1F1MwhLAOyXKnsE0=" crossorigin=anonymous></script><script>format();function format(){document.querySelectorAll('span[data-format="luxon"]').forEach(e=>{const t=e.textContent;e.textContent=luxon.DateTime.fromISO(t,{locale:"ru"}).toFormat("yyyy年MM月dd日 HH:mm")})}</script><script src=/js/toc.min.js></script><script type=module>
      import mediumZoom from 'https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/+esm';
      mediumZoom('#dream-single-post-content img', {
        background: 'oklch(var(--b1))',
        margin: 24,
      })
    </script><script async src="https://www.googletagmanager.com/gtag/js?id=G-S0KCH9BW4F"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-S0KCH9BW4F")}</script><script type=module src=https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.esm.js integrity="sha256-/IFmi82bIhdYWctu0UddSlJqpnzWm7Vh2C4CM32wF/k=" crossorigin=anonymous></script><script nomodule src=https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.js integrity="sha256-mr7eJMX3VC3F7G32mk4oWp1C6a2tlMYxUdptfT7uKI8=" crossorigin=anonymous></script></body></html>