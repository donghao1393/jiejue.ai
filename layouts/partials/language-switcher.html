{{ if hugo.IsMultilingual }}
<div class="dropdown dropdown-end dropdown-hover language-switcher">
  <div tabindex="0" role="button" class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" title="{{ T "switch_language" }}">
    <ion-icon class="group-hover:text-primary-content" name="language-outline"></ion-icon>
    <span class="ml-1 hidden md:inline group-hover:text-primary-content language-name">{{ .Site.Language.LanguageName }}</span>
  </div>
  <ul tabindex="0" class="dropdown-content menu bg-base-100 rounded-box z-[1] shadow-xl border border-base-content/20" style="min-width: 6rem; width: auto;">
    {{ range .Site.Languages }}
    {{ if not (eq .Lang $.Site.Language.Lang) }}
    <li>
      {{ if $.IsTranslated }}
        {{ range $.Translations }}
          {{ if eq .Lang .Lang }}
          <a href="{{ .RelPermalink }}" class="flex items-center gap-2">
            <span class="flag flag-{{ if eq .Lang "zh" }}cn{{ else }}{{ .Lang }}{{ end }}"></span>
            <span class="language-name">{{ .Language.LanguageName }}</span>
          </a>
          {{ end }}
        {{ end }}
      {{ else }}
        <a href="{{ "/" | relLangURL }}" hreflang="{{ .Lang }}" class="flex items-center gap-2">
          <span class="flag flag-{{ if eq .Lang "zh" }}cn{{ else }}{{ .Lang }}{{ end }}"></span>
          <span class="language-name">{{ .LanguageName }}</span>
        </a>
      {{ end }}
    </li>
    {{ end }}
    {{ end }}
  </ul>
</div>
{{ end }}
