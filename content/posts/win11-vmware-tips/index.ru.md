---
title: "Запуск Windows 11 VM на Mac: руководство по началу работы и практические советы"
date: 2025-03-30T15:21:05+04:00
slug: "windows-11-vmware-mac-guide"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250330152257692.webp"
tags:
  - "виртуализация"
  - "Мак"
  - "Windows (компьютер)"
  - "VMware"
---

Вам нужно периодически использовать Windows на Mac? Если вы тестируете приложения или демонстрируете программное обеспечение, виртуальная машина - отличный выбор. Это руководство поможет вам настроить виртуальную машину Windows 11 на Mac с помощью VMware Fusion и поделиться некоторыми полезными советами по оптимизации.

<!--more-->

## 为什么在Mac上使用Windows虚拟机

Как дизайнеру, мне часто приходится демонстрировать клиентам приложения для Windows, которые я разработал на своем Mac. Хотя такая необходимость возникает нечасто, она существует. Виртуальные машины обеспечивают безопасную, изолированную и удобную среду, в которой нам не нужно выделять устройство с Windows для случайных нужд.

## Windows 11的授权选择

Прежде всего, давайте разберемся в лицензионной политике Windows 11, которая поможет нам принять правильное решение.

### 免费试用与激活限制

После установки Windows 11 система предлагает 30-дневную бесплатную пробную версию. В течение этого периода вы сможете оценить всю функциональность. По окончании пробного периода система будет иметь некоторые ограничения, если ее не активировать:

- В правом нижнем углу появляется водяной знак "Активировать Windows".
- Невозможность изменить настройки персонализации (например, обои, темы и цвета).
- Периодически появляются напоминания об активации
- Некоторые обновления, не связанные с безопасностью, могут быть недоступны

**Но стоит отметить**: основной функционал полностью пригоден для использования! Это установка и запуск приложений, подключение к сети, работа с файлами, запись экрана и многое другое.

### 激活选择

Если вы решили активировать Windows 11, есть несколько распространенных вариантов:

1. **Официальный канал**: купить лицензию Windows 11 на официальном сайте Microsoft
2. **Розничный ключ**: купите ключ у авторизованного реселлера.
3. **Обновленная версия**: рассмотрите возможность обновления, если у вас есть старая лицензия Windows

Для эпизодических сценариев использования, особенно для виртуальных машин, используемых только для тестирования и демонстрации, может быть достаточно использования неактивированной Windows. Если вас не беспокоят водяные знаки, это самый простой и экономичный вариант.

## 解决Windows 11 RDP远程连接问题

В Windows 11 при подключении к удаленному рабочему столу (RDP) могут возникать проблемы с проверкой подлинности после входа в систему с помощью учетной записи Microsoft. Это связано с тем, что Windows 11 использует Windows Hello PIN для локальной аутентификации, в то время как RDP требует традиционной аутентификации с помощью пароля.

### 解决方案：使用runas命令

Следующие шаги помогут решить эту проблему:

1. 在Windows 11虚拟机中打开"运行"对话框（按下Win+R键）
2. 输入以下命令：
   ```
   runas /u:MicrosoftAccount\你的邮箱@example.com cmd.exe
   ```
3. 在打开的命令提示符中，输入你的微软账户密码

Это решение работает путем выполнения предварительной аутентификации с помощью команды `runas`, которая помогает системе кэшировать пароли учетной записи Microsoft, чтобы служба RDP могла подключаться с использованием этих учетных данных.

Как двум людям нужно встретиться и узнать друг друга, прежде чем они смогут подтвердить свою личность с помощью паролей, так и эта команда помогает двум системам аутентификации Windows "узнать друг друга".

## 虚拟机磁盘空间优化技巧

Недавно установленные системы Windows обычно занимают много места на диске. Вот несколько полезных советов по освобождению места:

### 关闭休眠功能释放空间

Файл гибернации Windows (hiberfil.sys) может занимать много места (обычно сопоставимого с объемом оперативной памяти). Для виртуальных машин эта функция обычно не нужна.

1. Запустите командную строку от имени администратора.
2. Введите команду: `powercfg.exe /hibernate off`.
3. Это сразу же освободит 10-30 ГБ пространства.

### 清理Windows更新缓存

В папке Windows Update Cache (SoftwareDistribution) может накопиться большое количество устаревших файлов:

1. 以管理员身份打开命令提示符
2. 依次执行以下命令：
   ```
   net stop wuauserv
   net stop bits
   net stop appidsvc
   net stop cryptsvc
   ```
3. 删除`C:\Windows\SoftwareDistribution\`中的所有文件

### 管理虚拟内存分页文件

Страничный файл (pagefile.sys) также может занимать довольно много места. Если ВМ имеет достаточно памяти, рассмотрите возможность уменьшения или отключения этого файла:

1. Откройте "Свойства системы" (Win+R и введите `SystemPropertiesAdvanced`). 2.
2. Выберите вкладку "Дополнительно" → "Производительность" → "Настройки". 3.
3. На вкладке "Дополнительно" нажмите "Виртуальная память" → "Изменить".
4. снимите флажок "Автоматически управлять размером файла подкачки для всех дисков".
5. при необходимости настройте или отключите файл подкачки.

### 使用Windows磁盘清理工具

Встроенная в Windows утилита очистки диска также полезна:

1. Найдите "Очистка диска" в меню "Пуск".
2. Выберите системный диск (C:). 3.
3. Нажмите "Очистка системных файлов", чтобы увидеть дополнительные параметры. 4.
4. Отметьте ненужные элементы (например, файлы Windows Update, отчеты об ошибках и т. д.).

С помощью этих шагов мне удалось увеличить свободное пространство на виртуальной машине с менее чем 2 ГБ до более чем 45 ГБ!

## 总结与建议

Запуск виртуальной машины Windows 11 на Mac не обязательно должен быть слишком сложным. Сделайте правильный выбор в зависимости от частоты использования и потребностей:

- Для периодического использования в тестовых средах неактивированной Windows вполне достаточно!
- Решение проблем с подключением RDP с помощью простой команды
- Несколько простых действий могут значительно оптимизировать дисковое пространство виртуальной машины

Надеемся, это руководство поможет вам использовать виртуальные машины Windows на Mac более гладко. С помощью этих советов вы сможете создать эффективную и функциональную среду Windows без ущерба для работы с Mac.

Вы тоже используете Windows VM на Mac? Есть другие полезные советы, которыми вы хотите поделиться? Не стесняйтесь обсуждать их в комментариях!