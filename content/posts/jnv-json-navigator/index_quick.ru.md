---
title: "JNV: интерактивный инструмент навигации, который делает данные JSON видимыми с первого взгляда"
date: Sun Mar 30 2025 16:40:11 GMT+0000 (Coordinated Universal Time)
slug: "jnv-json-navigator-interactive-tool"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250330204108805.webp"
tags:
  - "артефакт"
  - "JSON"
  - "конечная точка"
  - "обработка данных"
---

Приходилось ли вам сталкиваться с головной болью при работе с большими сложными JSON-данными? JNV (JSON Navigator) - это интерактивный инструмент просмотра и фильтрации JSON, который делает сложные данные ясными и понятными, даже если вы не умеете программировать.

<!--more-->

## 为什么需要JNV？

Представьте себе такой сценарий: Ли - оперативный сотрудник, и ему нужно узнать информацию о статусе сервиса из кучи JSON-данных, возвращаемых Kubernetes. Традиционно он должен был бы использовать `grep` или сложную команду `jq`, но эти инструменты либо не находят ее правильно, либо требуют запоминания сложного синтаксиса.

```json
{
  "items": [
    {
      "metadata": { "name": "service-a", /* 还有几十行其他信息 */ },
      "status": {
        "conditions": [
          { "type": "Available", "status": "True" },
          { "type": "Progressing", "status": "False" }
        ]
      }
    },
    // 可能还有几十个类似结构...
  ]
}
```

Столкнувшись с такими данными, Ли почувствовал себя в растерянности. Вот тут-то и пригодился JNV!

## JNV是什么？

JNV расшифровывается как "JSON Navigator" и представляет собой интерактивный инструмент для просмотра и фильтрации JSON, запускаемый в терминале. Он позволяет вам:

- Интуитивно понятная навигация по сложным структурам JSON с помощью мыши или клавиатуры.
- Фильтруйте нужную информацию в режиме реального времени
- Не нужно запоминать сложный синтаксис jq
- Копируйте результаты запроса или команды запроса в любое время

## 快速上手JNV

### 1. 安装

Самый простой способ - установить его через brew (если вы используете Mac):

```bash
brew install jnv
```

Для других систем он также может быть установлен с помощью груза:

```bash
cargo install jnv
```

### 2. 基本使用

Предполагая, что у вас есть файл с именем `data.json`, вы можете использовать JNV следующим образом:

```bash
jnv data.json
```

Или обработайте вывод JSON, полученный в результате выполнения команды:

```bash
kubectl get pods -o json | jnv
```

Запустив JNV, вы увидите красивый интерфейс, отображающий структуру данных JSON.

![JNV界面示意图 - 这里应展示JNV的界面，包括数据浏览区和过滤器编辑区](https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250330205304511.webp)

### 3. 浏览JSON

Войдя в интерфейс JNV, вы можете:

- Используйте клавиши со стрелками **Вверх и Вниз** для перемещения по данным.
- Нажмите **Enter**, чтобы развернуть или свернуть узлы.
- Используйте **Shift+клавиши со стрелками вверх и вниз** для переключения между режимом редактирования и режимом просмотра

Представьте, что Ли нужно посмотреть состояние всех служб. Он просто открывает JNV, переходит к Data и получает четкое представление обо всей структуре!

### 4. 过滤数据

Допустим, Ли хочет видеть только поле "Тип" в условии состояния:

1. Нажмите **Shift+↓**, чтобы перейти в режим редактирования.
2. Введите `.status.conditions[].type`.
3. Результаты фильтрации будут видны немедленно!

```
"Available",
"Progressing"
```

Не нужно запоминать сложные команды, все происходит в режиме реального времени и интуитивно понятно!

### 5. 复制结果

После того как вы нашли нужные данные:

- Нажмите **Ctrl+O**, чтобы скопировать текущий JSON в буфер обмена
- Нажмите **Ctrl+Q**, чтобы скопировать текущий фильтр jq в буфер обмена (чтобы в следующий раз вы могли использовать его непосредственно из командной строки).

## 在Kubernetes中使用JNV的实用场景

Для пользователей Kubernetes JNV особенно полезен:

1. **排查Pod问题**
   ```bash
   kubectl get pod problem-pod -o json | jnv
   ```
   然后你可以轻松导航到`.status.conditions`查看问题所在。

2. **检查配置**
   ```bash
   kubectl get configmap my-config -o json | jnv
   ```
   直观地查看配置内容，无需记忆繁琐的路径。

3. **理解资源关系**
   ```bash
   kubectl get service my-service -o json | jnv
   ```
   一目了然地看到服务如何选择Pod（通过`.spec.selector`）。

## 小技巧

1. **Просмотр справки**: В интерфейсе JNV доступные ярлыки отображаются внизу.

2. **更改缩进**：如果你觉得默认缩进太多或太少，可以用`-i`参数调整：
   ```bash
   jnv -i 4 data.json
   ```

3. **处理多个JSON**：JNV可以处理包含多个JSON对象的文件，如JSON Lines：
   ```bash
   cat multiple.jsonl | jnv
   ```

## 总结

JNV - это простой, но мощный инструмент, который делает сложные данные JSON понятными и простыми для восприятия. Будь вы оперативным сотрудником, разработчиком или просто случайным пользователем, которому приходится работать с данными JSON, JNV поможет вам сэкономить много времени и сил.

Самое главное, вам не нужно быть экспертом по командной строке или запоминать сложный синтаксис jq - интерактивный интерфейс JNV делает все простым и интуитивно понятным.

В следующий раз, когда вы столкнетесь с кучей сложных JSON-данных, попробуйте JNV!

```bash
# 记住这个简单命令就够了
kubectl get RESOURCE -o json | jnv
```

Сталкивались ли вы когда-нибудь с проблемой при работе с данными JSON, которая вызывала у вас головную боль? Решил ли JNV вашу проблему? Поделитесь своим опытом в разделе комментариев!