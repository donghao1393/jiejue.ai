---
title: "JNV: интерактивный инструмент навигации, который делает данные JSON видимыми с первого взгляда"
date: 2025-03-30T20:40:11+04:00
slug: "jnv-json-navigator-interactive-tool"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250330204108805.webp"
tags:
  - "артефакт"
  - "JSON"
  - "конечная точка"
  - "обработка данных"
---

Приходилось ли вам сталкиваться с головной болью при работе с большими сложными JSON-данными? JNV (JSON Navigator) - это интерактивный инструмент просмотра и фильтрации JSON, который делает сложные данные ясными и понятными, даже если вы не умеете программировать.

<! --подробнее-->

## Зачем мне нужен JNV?

Представьте себе такой сценарий: Ли - оперативный сотрудник, которому нужно узнать информацию о статусе сервиса из кучи JSON-данных, возвращаемых Kubernetes. Традиционный подход заключается в том, что он должен использовать команды `grep` или сложные команды `jq`, но эти инструменты либо не могут найти нужную информацию, либо требуют запоминания сложного синтаксиса.

```json
{
  "items": [
    {
      "metadata": { "name": "service-a", /* 还有几十行其他信息 */ },
      "status": {
        "conditions": [
          { "type": "Available", "status": "True" },
          { "type": "Progressing", "status": "False" }
        ]
      }
    },
    // 可能还有几十个类似结构...
  ]
}
```.

Столкнувшись с такими данными, Ли почувствовал себя в растерянности. Вот где пригодился JNV!

## Что такое JNV?

JNV расшифровывается как "JSON Navigator", это интерактивный инструмент просмотра и фильтрации JSON, который запускается в терминале. Он позволяет вам:

- Интуитивно ориентироваться в сложных структурах JSON с помощью мыши или клавиатуры.
- фильтровать нужную информацию в режиме реального времени
- не нужно запоминать сложный синтаксис jq
- копировать результаты запроса или команды запроса в любое время

## Быстрое начало работы с JNV

### 1. Установка

Самый простой способ - установить через brew (если вы используете Mac):

```bash
brew install jnv
```

Для других систем он также может быть установлен через cargo:

```bash
cargo install jnv
```

### 2. Базовое использование

Предполагая, что у вас есть файл с именем `data.json`, вы можете использовать JNV следующим образом:

```bash
jnv data.json
```

Или обработайте вывод JSON из команды:

```bash
kubectl get pods -o json | jnv
```

Запустив JNV, вы увидите красивый интерфейс, отображающий структуру данных JSON.

![JNV界面示意图 - 这里应展示JNV的界面，包括数据浏览区和过滤器编辑区](https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250330205304511.webp)

### 3. Просмотр JSON

Попав в интерфейс JNV, вы можете:

- Использовать клавиши со стрелками **Вверх и Вниз** для просмотра данных.
- Нажать **Enter**, чтобы развернуть или свернуть узлы.
- Используйте клавиши **Shift+стрелки вверх и вниз** для переключения между режимом редактирования и режимом просмотра

Представьте, что Ли нужно просмотреть состояние всех служб. Он просто открывает JNV, переходит к данным, а затем получает четкое представление обо всей структуре!

### 4. Фильтрация данных

Допустим, Ли хочет видеть только поле "Тип" в условиях состояния:

1. Нажмите **Shift+↓**, чтобы перейти в режим редактирования. 2.
2. Введите `.status.conditions[].type`. 3.
3. Немедленно просмотрите отфильтрованные результаты!

```
"Available",
"Progressing"
```

Не нужно запоминать сложные команды, все происходит в режиме реального времени и интуитивно понятно!

### 5. Копирование результатов

После того как вы нашли нужные данные:

- Нажмите **Ctrl+O**, чтобы скопировать текущий JSON в буфер обмена.
- Нажмите **Ctrl+Q**, чтобы скопировать текущий фильтр jq в буфер обмена (чтобы в следующий раз вы могли использовать его непосредственно из командной строки).

## Практические сценарии использования JNV в Kubernetes

Для пользователей Kubernetes JNV особенно полезен:

1. **Устранение проблем с подсистемами**.
   ```bash
   kubectl get pod problem-pod -o json | jnv
   ```.
   Затем вы можете легко перейти к `.status.conditions`, чтобы узнать, в чем проблема.

2. **Проверка конфигурации**
   ```bash
   kubectl get configmap my-config -o json | jnv
   ```
   Интуитивно понятный просмотр содержимого конфигурации без необходимости запоминать громоздкие пути.

3. **Понимание взаимосвязей ресурсов** __ПРОТЕКТИРОВАННЫЙ_КОД_БЛОК
   ```bash
   kubectl get service my-service -o json | jnv
   ```
   С первого взгляда можно увидеть, как службы выбирают подсистемы (с помощью `.spec.selector`).

## Совет.

1. **Вид справки**: В интерфейсе JNV доступные ярлыки отображаются внизу.

2. **Изменить отступ**: Если вы считаете, что отступ по умолчанию слишком большой или слишком маленький, вы можете изменить его с помощью параметра `-i`:
   ```bash
   jnv -i 4 data.json
   ```.

3. **Обработка множественных JSON**: JNV может обрабатывать файлы, содержащие множественные JSON-объекты, такие как JSON Lines:
   ```bash
   cat multiple.jsonl | jnv
   ```.

## Резюме

JNV - это простой, но мощный инструмент, который делает сложные данные JSON понятными и простыми для восприятия. Если вы занимаетесь эксплуатацией и обслуживанием, являетесь разработчиком или просто иногда сталкиваетесь с пользователями JSON-данных, JNV поможет вам сэкономить много времени и сил.

Самое главное, вам не нужно становиться экспертом командной строки или запоминать сложный синтаксис jq, интерактивный интерфейс JNV делает все простым и интуитивно понятным.

В следующий раз, когда вы столкнетесь с кучей сложных JSON-данных, попробуйте JNV!

```bash
# 记住这个简单命令就够了
kubectl get RESOURCE -o json | jnv
```.

Сталкивались ли вы с проблемой, которая вызывала у вас головную боль при работе с данными JSON? Решил ли JNV вашу проблему? Не стесняйтесь поделиться своим опытом в разделе комментариев!
