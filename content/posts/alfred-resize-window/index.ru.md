---
title: "Повысьте производительность macOS с помощью Alfred workflow: легко настраивайте разрешение окна приложения"
date: 2025-03-12T19:25:12+04:00
slug: "boost-macos-productivity-with-alfred-workflows"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250312192922845.webp"
tags:
  - "macOS"
  - "производственные возможности"
  - "Альфред"
  - "автоматический"
  - "AppleScript"
---

Как опытный пользователь macOS, вы наверняка пробовали различные инструменты и техники для повышения эффективности работы. Сегодня я хочу поделиться практичным и действенным способом - созданием пользовательских рабочих процессов с помощью Alfred и AppleScript для решения конкретных задач в повседневной работе.

<! -еще-->

## Зачем нужны пользовательские рабочие процессы?

Несмотря на множество удобных функций, встроенных в macOS, все же есть некоторые специфические потребности, которые нельзя удовлетворить напрямую. Например, когда вам нужно записать обучающий ролик или сделать снимок экрана, вы можете захотеть изменить размер окна приложения до определенного разрешения (например, 1920×1080), но macOS не предоставляет такого ярлыка.

Именно здесь может пригодиться рабочий процесс Alfred. С помощью простого сценария AppleScript мы можем создать мощный инструмент для быстрого изменения размера окна любого приложения.

## Пример из практики: разработка инструмента изменения разрешения окна

### Проблемный фон

При создании видеоуроков или скриншотов нам часто требуется подогнать окно приложения под стандартное разрешение 16:9 (например, 1920×1080). Ручная настройка занимает много времени и неточна, особенно если вам приходится часто переключаться между разными окнами приложения.

### Решение

Мы создадим рабочий процесс Alfred под названием "Set App Resolution" ("sar"), который будет:
1. перечислять все запущенные приложения
2. отображать общие параметры разрешения при выборе приложения
3. одним щелчком мыши подгонять окно выбранного приложения под указанное разрешение.

### Дизайн рабочего процесса

Этот рабочий процесс состоит из следующих компонентов:
1. ключевое слово триггера ("sar")
2. фильтр сценария списка приложений
3. фильтр сценария вариантов разрешения
4. сценарий выполнения
5. вывод уведомления

![工作流结构](https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250312193539746.webp)

### Реализация основного кода

Ниже приведен основной код для каждого компонента рабочего процесса:

**1. Фильтр сценариев списка приложений **.

Этот сценарий получает все запущенные в данный момент приложения и отображает их в виде списка:

```applescript
on run argv
  -- 获取正在运行的应用列表
  tell application "System Events"
    set processList to name of every process where background only is false
  end tell
  
  -- 创建Alfred JSON格式输出
  set json to "{"
  set json to json & "\"items\": ["
  
  set firstItem to true
  repeat with processName in processList
    if not firstItem then
      set json to json & ","
    end if
    set firstItem to false
    
    set json to json & "{"
    set json to json & "\"uid\": \"" & processName & "\","
    set json to json & "\"title\": \"" & processName & "\","
    set json to json & "\"subtitle\": \"选择此应用调整窗口大小\","
    set json to json & "\"arg\": \"" & processName & "\","
    set json to json & "\"variables\": {\"appName\": \"" & processName & "\"}"
    set json to json & "}"
  end repeat
  
  set json to json & "]"
  set json to json & "}"
  
  return json
end run
```.

**2. Фильтр сценария параметров разрешения**

При выборе для применения этот скрипт отображает заданные параметры разрешения:

```applescript
on run argv
  -- 获取应用名称(从前一步传递)
  set app_name to system attribute "appName"
  
  -- 创建预设分辨率选项
  set json to "{"
  set json to json & "\"items\": ["
  
  -- 1080p选项
  set json to json & "{"
  set json to json & "\"uid\": \"1080p\","
  set json to json & "\"title\": \"1920×1080 (1080p)\","
  set json to json & "\"subtitle\": \"全高清分辨率\","
  set json to json & "\"arg\": \"" & app_name & " 1920 1080\","
  set json to json & "\"variables\": {\"resolution\": \"1920 1080\"}"
  set json to json & "},"
  
  -- 720p选项
  set json to json & "{"
  set json to json & "\"uid\": \"720p\","
  set json to json & "\"title\": \"1280×720 (720p)\","
  set json to json & "\"subtitle\": \"高清分辨率\","
  set json to json & "\"arg\": \"" & app_name & " 1280 720\","
  set json to json & "\"variables\": {\"resolution\": \"1280 720\"}"
  set json to json & "},"
  
  -- 更多分辨率选项...
  
  set json to json & "]"
  set json to json & "}"
  
  return json
end run
```.

**3. Выполните скрипт**.

Этот скрипт фактически изменяет размер окна:

```applescript
on run argv
  -- 获取完整输入
  set full_input to item 1 of argv
  
  -- 分离应用名和分辨率
  set text item delimiters to " "
  set input_parts to text items of full_input
  
  -- 获取应用名和分辨率参数
  set app_name to item 1 of input_parts
  
  -- 确保至少有3个参数(应用名、宽度、高度)
  if (count of input_parts) < 3 then
    return "错误：参数不足"
  end if
  
  -- 解析宽度和高度
  set width_val to item 2 of input_parts as number
  set height_val to item 3 of input_parts as number
  
  -- 调整窗口大小
  tell application "System Events" to tell process app_name
    set position of window 1 to {0, 0}
    set size of window 1 to {width_val, height_val}
  end tell
  
  return "成功将 " & app_name & " 调整为 " & width_val & "×" & height_val & " 大小"
end run
```.

## Использование

1. В Alfred введите "sar".
2. Выберите приложение, размер которого нужно изменить, из списка.
3. Выберите заданное разрешение (или пользовательский размер).
4. Окно приложения будет немедленно изменено до указанного размера.

Этот простой рабочий процесс может сэкономить много времени создателям контента, разработчикам и дизайнерам, особенно в сценариях, где размер окон нужно изменять часто.

![使用演示](https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250312193624040.webp)

## Расширение и настройка

Этот рабочий процесс - лишь простой пример возможностей Alfred и AppleScript. Вы можете расширить и настроить его еще больше:

1. **Добавить больше предустановленных размеров**: добавить больше предустановленных разрешений в зависимости от вашего экрана и общих потребностей.
2. **Запомнить позицию**: добавьте функциональность для запоминания последней позиции и размера каждого приложения.
3. **Поддержка нескольких мониторов**: добавьте возможность перемещать окна между мониторами.
4. **Макет окна**: создание предопределенных макетов окон для совместной работы нескольких приложений.

## Почему этот подход настолько эффективен?

Такой подход к настройке рабочих процессов имеет несколько ключевых преимуществ:

1. **Очень целенаправленный**: решает конкретные проблемы, с которыми вы действительно сталкиваетесь в работе
2. **Быстрое внедрение**: использует AppleScript и не требует глубоких знаний программирования
3. **Системная интеграция**: легко интегрируется с macOS без дополнительных тяжелых приложений
4. **Полностью настраиваемый**: может постоянно адаптироваться и совершенствоваться в соответствии с индивидуальными потребностями

## Больше полезных идей для рабочего процесса

Помимо управления окнами, существует множество других областей, где можно применить этот подход:

1. **Быстрая обработка текста**: создание пользовательских рабочих процессов преобразования и форматирования текста
2. **Управление файлами**: пакетное переименование, перемещение определенных типов файлов
3. **Интеграция с веб-службами**: быстрый поиск, загрузка или скачивание содержимого
4. **Управление системой**: создание рабочих процессов для быстрого переключения между настройками системы

## Заключение

В macOS реальное повышение производительности часто достигается за счет решения небольших повторяющихся проблем, для которых нет готового решения. Сочетание рабочих процессов Alfred и AppleScript обеспечивает простой, но мощный способ создания собственных инструментов автоматизации.

Будь вы создателем контента, разработчиком или обычным пользователем macOS, обучение созданию пользовательских рабочих процессов может сделать вашу работу более эффективной. Попробуйте начать с решения конкретной проблемы, такой как изменение размера окна в этой статье, а затем постепенно расширяйте сферу деятельности, и вы увидите, что ваш опыт работы с macOS качественно улучшился.

Начните создавать свои собственные рабочие процессы и упростите выполнение повторяющихся задач!

## Ресурсы и обучение

- [Документация по рабочим процессам Alfred](https://www.alfredapp.com/help/workflows/)
- [Учебник по основам AppleScript](https://developer.apple.com/library/archive/documentation/AppleScript/Conceptual/AppleScriptLangGuide/introduction/ASLR_intro.html)
- [Темы автоматизации macOS](__PROTECTED_LINK_URL__7__)
