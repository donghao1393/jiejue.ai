---
title: "MCP Database Services: простое управление несколькими базами данных"
date: 2025-02-09T21:32:00+04:00
slug: "mcp-dbutils-quick-guide"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250209213924711.webp"
tags:
  - "MCP"
  - "База данных"
  - "Использование"
---

Если вы похожи на меня и вам часто приходится проверять базы данных различных проектов, вы наверняка сталкивались с раздражающей необходимостью часто переключать соединения с базами данных, запоминать различные параметры подключения и обращать внимание на вопросы безопасности. Сегодня мы представляем простой, но мощный инструмент, который делает запросы к базе данных такими же естественными, как разговор с искусственным интеллектом.

<! --подробнее...

## Демонстрация реального сценария

Представьте, что вам нужно просмотреть базы данных двух разных проектов. Используя службу баз данных MCP, операция выглядит следующим образом:

```
用户: 看看stage-db里user表里的内容

AI助手: 让我查询一下。

从查询结果看，user表包含了用户的基本信息：
1. user_id: 用户的唯一标识符
2. first_name: 用户名
3. last_name: 姓氏
4. email: 电子邮件地址
5. created_at: 创建时间
6. data: 附加数据

用户: 再看看dev-db，这应该不是一个项目的吧

AI助手: 让我看看dev-db里的情况。

确实是不同的项目，dev-db是一个社交应用数据库：
- users: 用户表
- posts: 帖子表
- interactions: 互动表

两个数据库完全不同：
1. stage-db是企业门户系统，关注用户管理
2. dev-db是社交平台，包含内容和互动功能
```.

Видите, все просто, как в обычном разговоре! Не нужно запоминать параметры соединения, не нужно беспокоиться о безопасности, просто укажите, что вы хотите увидеть, и ИИ выполнит запрос за вас.

## Как настроить

```mermaid
graph LR
    A[准备配置文件] --> B[添加到AI设置]
    B --> C[开始使用]
    style A fill:#f0f8ff
    style B fill:#e6ffe6
    style C fill:#fff0f0
```.

### Первый шаг: подготовка файла конфигурации

Создайте файл `config.yaml` и заполните его информацией о базе данных:

```yaml
databases:
  # PostgreSQL数据库配置
  stage-db:
    type: postgres
    dbname: stage
    user: myuser
    password: mypassword
    host: localhost
    port: 5432

  # SQLite数据库配置
  dev-db:
    type: sqlite
    path: /path/to/dev.db
```

### Шаг 2: Добавьте в настройки AI

Добавьте в конфигурацию помощника ИИ:

```json
"mcpServers": {
  "dbutils": {
    "command": "uvx",
    "args": [
      "mcp-dbutils",
      "--config",
      "/path/to/config.yaml"
    ],
    "env": {
      "MCP_DEBUG": "1"  // 如果需要调试信息
    }
  }
}
```.

### Шаг 3: Начало работы

После завершения настройки вы можете запросить базу данных с помощью естественного диалога, как было показано в начале!

### Советы по безопасности

- Сервис поддерживает только SELECT-запросы для обеспечения безопасности базы данных
- Чувствительная информация (например, пароли) автоматически скрывается в журналах
- Все запросы выполняются в транзакциях, доступных только для чтения

Теперь вы можете управлять несколькими базами данных так же легко, как и общаться в чате. Попробуйте, вам понравится простота!
