---
title: "MCP Database Services: простое управление несколькими базами данных"
date: 2025-02-09T21:32:00+04:00
slug: "mcp-dbutils-quick-guide"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250209213924711.webp"
tags:
  - "MCP"
  - "База данных"
  - "Использование"
---

Если вы похожи на меня и вам часто приходится проверять базы данных различных проектов, вы наверняка сталкивались с раздражающей необходимостью часто переключать соединения с базами данных, запоминать различные параметры подключения и обращать внимание на вопросы безопасности. Сегодня мы представляем простой, но мощный инструмент, который делает запросы к базе данных такими же естественными, как разговор с искусственным интеллектом.

<!--more-->

## 真实场景演示

Представьте, что вам нужно просмотреть базы данных двух разных проектов. Используя службу баз данных MCP, операция будет выглядеть следующим образом:

```
用户: 看看stage-db里user表里的内容

ИИ-помощник: Позвольте мне проверить.

В результате запроса в таблице пользователей содержится основная информация о пользователе:
1. user_id: уникальный идентификатор пользователя
2. first_name: имя пользователя
3. last_name: фамилия
4. email: адрес электронной почты
5. created_at: время создания
6. данные: дополнительные данные

Пользователь: посмотрите на dev-db еще раз, это не проект, я думаю.

AI Assistant: Позвольте мне посмотреть, что происходит в dev-db.

Различные проекты, dev-db - это база данных социальных приложений:
- пользователи: таблица пользователей
- посты: таблица постов
- взаимодействия: таблица взаимодействий

两个数据库完全不同：
1. stage-db是企业门户系统，关注用户管理
2. dev-db是社交平台，包含内容和互动功能
```

Посмотрите, это так же просто, как обычный разговор! Не нужно запоминать параметры соединения, не нужно беспокоиться о безопасности, просто укажите, что вы хотите увидеть, и искусственный интеллект выполнит запрос за вас.

## 如何配置

```mermaid
graph LR
    A[准备配置文件] --> B[添加到AI设置]
    B --> C[开始使用]
    style A fill:#f0f8ff
    style B fill:#e6ffe6
    style C fill:#fff0f0
```

### 第一步：准备配置文件

Создайте файл `config.yaml` и заполните его информацией о базе данных:

```yaml
databases:
  # PostgreSQL数据库配置
  stage-db:
    type: postgres
    dbname: stage
    user: myuser
    password: mypassword
    host: localhost
    port: 5432

# SQLite数据库配置
  dev-db:
    type: sqlite
    path: /path/to/dev.db
```

### 第二步：添加到AI设置

Добавьте его в конфигурацию помощника ИИ:

```json
"mcpServers": {
  "dbutils": {
    "command": "uvx",
    "args": [
      "mcp-dbutils",
      "--config",
      "/path/to/config.yaml"
    ],
    "env": {
      "MCP_DEBUG": "1"  // 如果需要调试信息
    }
  }
}
```

### 第三步：开始使用

После настройки вы можете запрашивать базу данных с помощью естественного диалога, как было показано в начале!

## 安全提示

- Служба поддерживает только SELECT-запросы для обеспечения безопасности базы данных
- Чувствительная информация (например, пароли) автоматически скрывается в журналах.
- Все запросы выполняются в транзакциях, доступных только для чтения

Теперь вы можете управлять несколькими базами данных так же легко, как и общаться в чате. Попробуйте, и вы полюбите эту простоту!