---
title: "Более глубокое понимание: Механизмы передачи международной электронной почты и причины задержек"
date: 2025-01-30T19:03:19+04:00
slug: "international-email-transmission-and-delay-deep"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250130232237397.webp"
tags:
  - "письма"
  - "ретикуляция"
  - "Технические принципы"
  - "поручительство"
---

В эпоху глобальной взаимосвязи электронная почта давно стала незаменимым инструментом общения в нашей повседневной жизни. Однако когда мы отправляем трансграничную почту, за этим, казалось бы, простым процессом на самом деле скрываются сложные технические механизмы и многочисленные соображения безопасности. В этой статье мы проанализируем весь процесс международной передачи электронной почты, чтобы помочь вам понять технические принципы.

<! -еще-->

## Начнем с конкретного примера

Ли получает электронный счет от своего внутреннего банка в отделении в Дубае, который ему нужно переслать на свой личный адрес электронной почты для архивации. После нажатия кнопки отправки это письмо проделает долгий и сложный путь. Давайте рассмотрим этот реальный сценарий, чтобы получить представление о том, как работают современные системы электронной почты.

## Архитектура почтового протокола

Современные системы электронной почты основаны на трех основных протоколах:

1. SMTP (Simple Mail Transfer Protocol)

   - Работает через TCP-порт 25 (зашифрованная версия использует порт 587).
   - Отвечает за отправку и ретрансляцию электронной почты
   - Использует механизм хранения и пересылки для обеспечения надежной передачи.
2. IMAP/POP3 (протокол получения)

   - IMAP: порт 993, поддерживает двустороннюю синхронизацию.
   - POP3: порт 995, используется для загрузки почты.
   - Эти два протокола используют различные политики управления почтой

### Блок-схема, показывающая архитектуру почтового протокола.

```mermaid
flowchart TD
    subgraph Client1[发件客户端]
        C1[邮件客户端]
    end
  
    subgraph SMTP1[发送服务器]
        S1[SMTP服务]
        S1_TLS[TLS:587]
    end
  
    subgraph Internet[互联网]
        direction TB
        I1[DNS查询]
        I2[邮件路由]
    end
  
    subgraph SMTP2[接收服务器]
        S2[SMTP服务]
        S2_IMAP[IMAP:993]
        S2_POP3[POP3:995]
    end
  
    subgraph Client2[收件客户端]
        C2[邮件客户端]
    end
  
    C1 --> |SMTP| S1_TLS
    S1_TLS --> S1
    S1 --> I1
    I1 --> I2
    I2 --> S2
    S2 --> S2_IMAP & S2_POP3
    S2_IMAP & S2_POP3 --> C2

    style I1 fill:#f5f5f5
    style I2 fill:#f5f5f5
```_.

### Механизм шифрования почты

В почтовой системе используется многоуровневая стратегия шифрования:

1. криптография транспортного уровня (TLS)

   - Защищает электронную почту при передаче
   - Предотвращает атаки типа "человек посередине".
   - Не защищает состояние хранения сообщений на сервере.
2. сквозное шифрование (например, PGP)

   - Обеспечивает истинную сквозную безопасность.
   - Содержимое письма видно только отправителю и получателю.
   - Использует асимметричное шифрование

## Анализ международных транспортных путей

## Физическая инфраструктура

Международная почтовая связь в значительной степени опирается на подводные оптоволоконные кабельные сети:

- Скорость света в оптоволоконных кабелях составляет около 200 000 км/сек.
- Фактическая скорость передачи ограничена сетевым оборудованием и политикой маршрутизации.
- Невозможно избежать задержек, связанных с географическим расстоянием

![海底光缆分布图](https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250130190520715.webp)

### Время передачи почты

В качестве примера рассмотрим время передачи письма, содержащего 760,9 КБ вложений:

```mermaid
%%{init: {'theme': 'default', 'gantt': {'useWidth': 600} } }%%
gantt
    title 国际邮件传输时间轴
    dateFormat ss
    axisFormat %S秒
  
    section 发送阶段
    身份验证与检查 :active, task1, 00, 0.5s
    附件病毒扫描   :task2, after task1, 2s
  
    section 传输阶段
    阿联酋出口检查 :task3, after task2, 1.5s
    网络传输      :task4, after task3, 0.6s
    中国防火墙检查 :task5, after task4, 3.4s
  
    section 接收阶段
    QQ邮箱安全检查 :task6, after task5, 2s
    邮件分类与投递 :task7, after task6, 1s

```.

## Механизм проверки безопасности

### Меры безопасности на стороне отправителя

1. SPF (Sender Policy Framework)

   - Удостоверяет личность отправителя
   - Предотвращает почтовое мошенничество
   - Проверяет авторизацию сервера-отправителя
2. DKIM (Domain Key Identification Mail)

   - Обеспечение целостности электронной почты с помощью криптографических подписей
   - Предотвращение фальсификации содержимого
   - Проверка подлинности домена-отправителя

### Проверка шлюза

1. Проверка международного экспорта

   - Мониторинг трафика
   - Проверка соответствия контента
   - Антиспамовая фильтрация
2. Политика межсетевого экрана

   - Контроль на уровне протокола
   - Формирование трафика
   - Обнаружение угроз безопасности

### Обработка на стороне приема

1. механизмы защиты от спама

   - Фильтрация на основе содержимого
   - Система репутации отправителя
   - Поведенческое профилирование
2. Вирусное сканирование

   - Проверка безопасности вложений
   - Обнаружение вредоносных ссылок
   - Защита от макровирусов

## Профилирование особых случаев: механизмы доступа к Gmail

Интересен тот факт, что, хотя веб-интерфейс Gmail недоступен в континентальном Китае, с помощью аккаунта Gmail можно отправлять и получать электронные сообщения через местные почтовые службы, такие как почтовый ящик QQ. Это связано с несколькими ключевыми особенностями системы электронной почты:

1. разделение протоколов

   - Веб-доступ (HTTP/HTTPS) и отправка и получение почты (SMTP/IMAP) осуществляются по разным протоколам.
   - Брандмауэры могут точно контролировать доступ к различным протоколам
   - Выделенные почтовые порты остаются открытыми
2. разделение инфраструктуры

   - Отдельное развертывание почтовых и веб-серверов
   - Глобально распределенные узлы ретрансляции почты
   - Локальные почтовые серверы в качестве узлов ретрансляции

### Схема механизма доступа к Gmail

```mermaid
flowchart LR
    subgraph CN[中国大陆]
        User[用户]
        QQMail[QQ邮箱服务器]
        GFW[防火墙]
    end
  
    subgraph Global[国际网络]
        Gmail_Web[Gmail网页服务器]
        Gmail_SMTP[Gmail邮件服务器]
    end
  
    User -->|无法访问| GFW
    GFW -->|阻断| Gmail_Web
  
    User -->|可以访问| QQMail
    QQMail -->|SMTP/IMAP| Gmail_SMTP
  
    style GFW fill:#f96
    style Gmail_Web fill:#ddd
    style Gmail_SMTP fill:#9d9
    style QQMail fill:#9d9
```

### Рекомендации по оптимизации производительности

Для пользователей, которым приходится часто обрабатывать международные электронные письма, можно принять следующие меры для улучшения работы:

1. технический уровень

   - Используйте протокол IMAP вместо POP3
   - Настройте интервал синхронизации соответствующим образом
   - Рассмотрите возможность включения сжатия почты.
2. Практические рекомендации

   - Рассмотрите возможность использования облачного хранилища для обмена большими файлами
   - Используйте мессенджер для критических уведомлений
   - Избегайте запуска глубоких проверок безопасности

## Перспективы на будущее

По мере развития технологий, вероятно, появятся новые изменения в международной доставке почты:

1. новые технологические приложения

   - Применение квантового шифрования
   - Интеллектуальная маршрутизация с помощью искусственного интеллекта
   - Применение технологии блокчейн для аутентификации почты
2. Модернизация инфраструктуры

   - Прокладка подводных волоконно-оптических кабелей нового поколения
   - Дополнительные программы спутниковой связи
   - Оптимизация пограничных узлов

## Заключение

Понимание того, как работает система электронной почты, не только помогает нам понять причины задержек, но и позволяет лучше использовать этот важный инструмент коммуникации. По мере развития технологий мы ожидаем появления более быстрых и безопасных международных служб доставки электронной почты.
