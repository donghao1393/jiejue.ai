---
title: "Воспроизведение 3D-видео с помощью ffplay на Mac"
date: 2024-12-07T21:41:38+04:00
slug: "play-3d-video"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250202030000561.webp"
tags:
  - "macos"
  - "3d видео"
  - "ffplay"
---

Некоторое время назад я приобрел пару "умных" очков с поддержкой просмотра 3D-видео. Они поддерживают воспроизведение видео в формате SBS (левый/правый разделенный экран), но большинство источников 3D-видео на рынке - в формате HSBS (разделенный экран на половину ширины левого/правого края). Изначально я использовал Bino, старый 3D-плеер, но он был разработан для чипов Intel и часто подтормаживал на моем M1 Mac.

<! --подробнее-->

Затем я обнаружил, что ffplay (часть проекта ffmpeg) вполне подходит. Он поддерживает Apple Silicon нативно, имеет отличную производительность воспроизведения и очень прост в использовании.

Установка очень проста. Сначала вам нужно установить Homebrew, если вы еще этого не сделали, перейдите по ссылке [brew.sh](https://brew.sh) и следуйте подсказкам. Затем вы можете установить ffmpeg с помощью одной команды:

```bash
brew install ffmpeg
```.

Воспроизведение 3D-видео также не составит труда, например, конвертировать видео формата HSBS в формат SBS для воспроизведения:

```bash
ffplay -i video.mp4 -vf "scale=2*iw:ih"
```

Если вам кажется неудобным каждый раз вводить команды, вы можете добавить соответствующую функцию в конфигурационный файл оболочки fish (~/.config/fish/config.fish):

```bash
function play3d
    ffplay -i $argv -vf "scale=2*iw:ih"
end
```

Таким образом, в дальнейшем вы сможете просто использовать `play3d video.mp4`.

Некоторые общие сочетания клавиш для ffplay:
- w: показать/скрыть индикатор выполнения
- Пробел: пауза/возобновление
- Клавиши со стрелками влево и вправо: перемотка на 10 секунд назад/вперед.
- Клавиши со стрелками вверх и вниз: перемотка на 1 минуту назад/вперед.
- q или ESC: выход

Самое приятное, что ffplay автоматически отобразит субтитры, если в видео есть встроенные субтитры, и они будут отображаться как слева, так и справа, не нужно устанавливать никаких дополнительных настроек.

По сравнению с некоторыми другими 3D-плеерами, ffplay имеет более простой интерфейс, но в нем есть все необходимые функции, а его производительность очень высока, так что пользоваться им очень легко. Это хороший выбор для тех, кто хочет смотреть 3D-видео на Mac.

