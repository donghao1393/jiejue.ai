---
title: "Воспроизведение 3D-видео с помощью ffplay на Mac"
date: Sat Dec 07 2024 17:41:38 GMT+0000 (Coordinated Universal Time)
slug: "play-3d-video"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250202030000561.webp"
tags:
  - "macos"
  - "3d видео"
  - "ffplay"
---

Некоторое время назад я приобрел пару "умных" очков с поддержкой просмотра 3D-видео. Они поддерживают воспроизведение видео в формате SBS (левый/правый разделенный экран), но большинство источников 3D-видео на рынке - в формате HSBS (разделенный экран на половину ширины левого/правого края). Изначально я использовал Bino, старый 3D-плеер, но он был разработан для чипов Intel и часто подтормаживал на моем M1 Mac.

<!--more-->

Оказалось, что ffplay (часть проекта ffmpeg) идеально подходит для этих целей. Он поддерживает Apple Silicon нативно, имеет хорошую производительность воспроизведения и очень прост в использовании.

Установка очень проста. Сначала нужно установить Homebrew, если вы еще не сделали этого, перейдите по ссылке [brew.sh](https://brew.sh) и следуйте подсказкам. Затем вы можете установить ffmpeg с помощью одной команды:

```bash
brew install ffmpeg
```

Воспроизведение 3D-видео также не составит труда, например, конвертировать видео формата HSBS в формат SBS для воспроизведения:

```bash
ffplay -i video.mp4 -vf "scale=2*iw:ih"
```

Если вам кажется неудобным каждый раз вводить команду, вы можете добавить функцию в конфигурационный файл оболочки fish (~/.config/fish/config.fish):

```bash
function play3d
    ffplay -i $argv -vf "scale=2*iw:ih"
end
```

Таким образом, в дальнейшем вы сможете просто использовать `play3d video.mp4`.

Некоторые общие сочетания клавиш для ffplay:
- w: показать/скрыть индикатор выполнения
- Пробел: пауза/возобновление
- Клавиши со стрелками влево и вправо: перемотка на 10 секунд назад/вперед
- Клавиши со стрелками вверх и вниз: быстрая перемотка на 1 минуту назад/вперед
- q или ESC: выход

Особенно приятно, что если в видео есть встроенные субтитры, ffplay автоматически отобразит их, причем они будут отображаться как слева, так и справа без каких-либо дополнительных настроек.

По сравнению с некоторыми другими 3D-плеерами, ffplay имеет более простой интерфейс, но в нем есть все необходимые функции, а его производительность очень высока, так что пользоваться им очень просто. Это хороший выбор для тех, кто хочет смотреть 3D-видео на своих Mac.

