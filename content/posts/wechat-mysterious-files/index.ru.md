---
title: "WeChat незаметно генерирует эти файлы в вашем телефоне, вы знали об этом?"
date: 2025-02-23T11:10:32+04:00
slug: "wechat-mysterious-files-in-your-phone"
draft: false
cover: "https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250223111235585.webp"
tags:
  - "microsoft"
  - "конфиденциальность и безопасность"
  - "Android (операционная система)"
---

Недавно я обнаружил, что в папке "Загрузки" моего мобильного телефона незаметно скопилось множество странных файлов, все они имеют общую черту: имя файла либо "flag", либо "mobiloc". Что еще более странно, эти файлы будут продолжать генерировать новые версии, а затем сжимать архивы, день за днем, их уже двадцать или тридцать!

<!--more-->

![too-many-files-like-flag-and-mobiloc](https://jiejue.obs.ap-southeast-1.myhuaweicloud.com/20250223111332700.webp)

## 一个普通用户的烦恼

Думаю, что многие друзья, как и я, время от времени разбираются с файлами в телефоне, удаляют фотографии, очищают кэш, чтобы телефон оставался чистым. Но однажды, наводя порядок в файлах, я обнаружил несколько непонятных явлений: в папке "Загрузки" постоянно находятся какие-то непонятные файлы.

Их характеристики очевидны:
- Название - либо "flag", либо "mobiloc".
- Размер очень постоянен, "flag" всегда 2,2 МБ, "mobiloc" всегда 4,9 МБ.
- Файлы сжимаются в zip-архив, но старый zip-архив не удаляется.
- Даже если файлы будут удалены, они появятся вновь через некоторое время.

## 寻找真相

Будучи случайным пользователем, интересующимся технологиями, я отправился в небольшое детективное путешествие.

Сначала я попытался найти в Интернете источник этих файлов, но практически не смог найти никакой полезной информации. Тогда я придумал глупый способ: удалить все эти файлы, а затем по очереди открывать приложения в телефоне, чтобы узнать, какое из них тайно генерирует эти файлы. Но если подумать, у меня в телефоне установлены сотни приложений, так что проверять их будет утомительно!

```mermaid
graph TB
    A[发现奇怪文件] --> B{尝试解决}
    B --> C[上网搜索]
    B --> D[手动排查]
    C --> E[没有线索]
    D --> F[工作量太大]
    E --> G[需要新方法]
    F --> G
    G --> H[开发监控工具]
```

Так получилось, что у меня есть знакомые программисты, которые помогли мне разработать простой инструмент мониторинга. Принцип работы этого инструмента прост:

- Отслеживайте все изменения файлов в папке "Загрузки".
- Запишите, какое приложение управляет этими файлами.
- Запишите все улики, которые вы найдете в журналах.

```mermaid
flowchart TD
    subgraph 手机运行环境
        A["文件监视哨</br>(监控下载文件夹)"] --> B{"发现新文件?"}
        B -->|是| C["记录员</br>(记录文件信息)"]
        subgraph 信息收集
            C --> D["进程侦探</br>(查找最近活跃App)"]
            C --> E["日志分析员</br>(分析系统日志)"]
            C --> F["名片识别</br>(获取App身份)"]
        end
        D --> G[("证据收集")]
        E --> G
        F --> G
        G --> H["记录到日志文件"]
        B -->|否| I["继续监视"]
        I --> B
    end
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#e8f5e9
    style D fill:#fff3e0
    style E fill:#fff3e0
    style F fill:#fff3e0
    style G fill:#fce4ec
    style H fill:#f3e5f5
```

## 真相大白

После ночи наблюдения и просмотра журналов на следующий день правда наконец-то всплыла!

```
TIMESTAMP               | EVENT        | PATH     | APP                | PACKAGE
------------------------------------------------------------------------------------------
2025-02-23 09:53:13.497 | CREATE       | flag     | 微信               | com.tencent.mm
2025-02-23 09:53:13.508 | CLOSE_WRITE  | flag     | 微信               | com.tencent.mm
2025-02-23 09:53:13.512 | CREATE       | mobiloc  | 微信               | com.tencent.mm
2025-02-23 09:53:13.517 | CLOSE_WRITE  | mobiloc  | 微信               | com.tencent.mm
```

Неожиданно оказалось, что эти файлы были тайно сгенерированы WeChat! Мы можем видеть это из журнала:
- WeChat создал файлы flag и mobiloc в фоновом режиме.
- Этот процесс автоматизирован, и пользователь о нем совершенно не знает.
- Этот процесс автоматизирован, и пользователь о нем не знает. Файлы создаются очень часто и не подвергаются активной очистке.

## 这意味着什么？

Будучи обычным пользователем, я не могу не быть немного обеспокоенным, когда вижу это открытие:

1. почему WeChat генерирует эти файлы так часто, когда я не пользуюсь им?
2. название "mobiloc" похоже на аббревиатуру "мобильное местоположение", записывает ли оно информацию о моем местоположении?
3. почему он хранит так много файлов истории, а не только последние?
4. уместно ли, что все эти действия выполняются беззвучно в фоновом режиме без ведома пользователя?

```mermaid
graph LR
    A[微信] --> B((后台行为))
    B --> C[频繁写入]
    B --> D[保留历史]
    B --> E[不通知用户]
    C --> F{可疑点}
    D --> F
    E --> F
    F --> G[位置追踪?]
    F --> H[数据收集?]
    F --> I[隐私问题?]
```

## 我们能做什么？

Если вы столкнулись с подобной ситуацией, вот несколько предложений:

1. Проверьте настройки разрешения местоположения в WeChat:
   - Перейдите в Системные настройки
   - Найдите управление разрешениями WeChat
   - Отключите разрешение "информация о местоположении", особенно разрешение "фоновое местоположение".

2. Регулярно проводите очистку:
   - Перейдите в папку "Загрузки".
   - Найдите "flag" и "mobiloc".
   - Удалите эти файлы и zip-пакеты

3. бдительность:
   - Следите за фоновым поведением приложений
   - Часто проверяйте хранилище телефона
   - Обращайте внимание на настройки конфиденциальности

Это открытие заставило меня понять, что в эпоху мобильного Интернета необходимо повышать нашу осведомленность о защите частной жизни. Даже обычные приложения, которыми мы пользуемся каждый день, могут бесшумно собирать информацию, о которой мы не подозреваем. Как пользователи, мы имеем право и должны быть осведомлены о таком поведении и делать свой собственный выбор.